{"version":3,"file":"game.bundle.js","mappings":"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AAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAExB,OAAO;YACH,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;SAChD;IACL,CAAC;IAED,cAAc,CAAC,CAAW,EAAE,MAAc;QACtC,OAAO,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC;IACnC,CAAC;IAED,GAAG,EAAE,CAAC,CAAW,EAAE,EAAE;QACjB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAExB,OAAO,CACH,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACrE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YACtE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CACzE;IACL,CAAC;IAED,OAAO,CAAC,CAAW;QACf,IAAI,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAEvB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QAEvB,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;QAC/F,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;QAC/F,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC;QACjG,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC;QAEjG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;QAE1D,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;QACrG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;QACrG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QACvG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QACvG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QAC3G,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QAC3G,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QAC5G,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QAC5G,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;QAC5G,GAAG,CAAC,EAAE,CAAC,GA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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC9BA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;;;;;;;;;;ACrFqB;AACgB;AAGrC,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;IACjB,IAAI,wDAAI,EAAE;AACd,CAAC","sources":["webpack://wolfenstein/./src/game/style.css","webpack://wolfenstein/./node_modules/css-loader/dist/runtime/api.js","webpack://wolfenstein/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://wolfenstein/./src/game/style.css?affd","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://wolfenstein/./src/common/DecorationMap.ts","webpack://wolfenstein/./src/common/NotCollidingFieldValues.ts","webpack://wolfenstein/./src/game/components/BetterAudio.ts","webpack://wolfenstein/./src/game/components/Camera.ts","webpack://wolfenstein/./src/game/components/Config.ts","webpack://wolfenstein/./src/game/components/Game.ts","webpack://wolfenstein/./src/game/components/Input.ts","webpack://wolfenstein/./src/game/components/Level.ts","webpack://wolfenstein/./src/game/components/Pathfinder.ts","webpack://wolfenstein/./src/game/components/Raycaster.ts","webpack://wolfenstein/./src/game/components/Textures.ts","webpack://wolfenstein/./src/game/components/programs/ColorProgram.ts","webpack://wolfenstein/./src/game/components/programs/Program.ts","webpack://wolfenstein/./src/game/components/programs/TextureProgram.ts","webpack://wolfenstein/./src/game/components/shapes/level/Cuboid.ts","webpack://wolfenstein/./src/game/components/shapes/level/CuboidBoundingBox.ts","webpack://wolfenstein/./src/game/components/shapes/level/Door.ts","webpack://wolfenstein/./src/game/components/shapes/level/Enemy.ts","webpack://wolfenstein/./src/game/components/shapes/level/GridBoundingBox.ts","webpack://wolfenstein/./src/game/components/shapes/level/Lever.ts","webpack://wolfenstein/./src/game/components/shapes/level/Plane.ts","webpack://wolfenstein/./src/game/components/shapes/level/Shape.ts","webpack://wolfenstein/./src/game/components/shapes/level/Wall.ts","webpack://wolfenstein/./src/game/components/shapes/level/WallSecretDoor.ts","webpack://wolfenstein/./src/game/components/shapes/level/decorations/Decoration.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/Ammo.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/DogFood.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/Flag.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/Food.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/GoldenBox.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/GoldenCross.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/GoldenCrown.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/GoldenCup.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/HealthItem.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/HealthPack.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/Machinegun.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/Pickup.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/PointItem.ts","webpack://wolfenstein/./src/game/components/shapes/level/pickups/PowerUp.ts","webpack://wolfenstein/./src/game/components/shapes/ui/Crosshair.ts","webpack://wolfenstein/./src/game/components/shapes/ui/DeathScreen.ts","webpack://wolfenstein/./src/game/components/shapes/ui/LevelEnd.ts","webpack://wolfenstein/./src/game/components/shapes/ui/LoadingScreen.ts","webpack://wolfenstein/./src/game/components/shapes/ui/Menu.ts","webpack://wolfenstein/./src/game/components/shapes/ui/UI.ts","webpack://wolfenstein/./src/game/components/shapes/ui/Weapon.ts","webpack://wolfenstein/./src/game/components/shapes/ui/Weapons.ts","webpack://wolfenstein/./src/game/components/utils/Transform.ts","webpack://wolfenstein/./src/game/components/utils/Vec2.ts","webpack://wolfenstein/./src/game/components/utils/Vec3.ts","webpack://wolfenstein/./src/game/components/utils/index.ts","webpack://wolfenstein/./src/game/components/utils/log.ts","webpack://wolfenstein/./src/game/components/utils/m4.ts","webpack://wolfenstein/./src/game/components/utils/utils.ts","webpack://wolfenstein/./src/game/shaders/color.fs","webpack://wolfenstein/./src/game/shaders/color.vs","webpack://wolfenstein/./src/game/shaders/texture.fs","webpack://wolfenstein/./src/game/shaders/texture.vs","webpack://wolfenstein/./src/game/levels|lazy|/^/.*/.json$/|groupOptions: {}|namespace object","webpack://wolfenstein/webpack/bootstrap","webpack://wolfenstein/webpack/runtime/compat get default export","webpack://wolfenstein/webpack/runtime/create fake namespace object","webpack://wolfenstein/webpack/runtime/define property getters","webpack://wolfenstein/webpack/runtime/ensure chunk","webpack://wolfenstein/webpack/runtime/get javascript chunk filename","webpack://wolfenstein/webpack/runtime/global","webpack://wolfenstein/webpack/runtime/hasOwnProperty shorthand","webpack://wolfenstein/webpack/runtime/load script","webpack://wolfenstein/webpack/runtime/make namespace object","webpack://wolfenstein/webpack/runtime/publicPath","webpack://wolfenstein/webpack/runtime/jsonp chunk loading","webpack://wolfenstein/./src/game/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html, body {\\r\\n    margin: 0;\\r\\n    height: 100%;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    height: 100vh;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* display: block; */\\r\\n    visibility: hidden;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    /* width: 1; */\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\nmain {\\r\\n    /* height: 100%;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center; */\\r\\n}\\r\\n\\r\\n#uiCanvas {\\r\\n    /* width: 100%;\\r\\n    height: 100%; */\\r\\n    display: block;\\r\\n\\r\\n    image-rendering: -moz-crisp-edges;\\r\\n    image-rendering: -webkit-crisp-edges;\\r\\n    image-rendering: pixelated;\\r\\n    image-rendering: crisp-edges;\\r\\n}\\r\\n\\r\\n#ui {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 100vw;\\r\\n    height: 50px;\\r\\n    opacity: 0.9;\\r\\n    background-color: black;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n#ui > * {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    min-width: 100px;\\r\\n}\\r\\n\\r\\n#levelEditor {\\r\\n    background-color: red;\\r\\n    opacity: 0.9;\\r\\n    position: absolute;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    border-radius: 5px;\\r\\n    padding: 10px;\\r\\n    margin: 5px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#levelEditor > * {\\r\\n    text-decoration: none;\\r\\n    color: white;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/game/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,SAAS;IACT,YAAY;IACZ,4DAA4D;IAC5D,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,oBAAoB;IACpB,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,OAAO;IACP,QAAQ;IACR,cAAc;IACd,kBAAkB;AACtB;;AAEA;IACI;;;0BAGsB;AAC1B;;AAEA;IACI;mBACe;IACf,cAAc;;IAEd,iCAAiC;IACjC,oCAAoC;IACpC,0BAA0B;IAC1B,4BAA4B;AAChC;;AAEA;IACI,kBAAkB;IAClB,MAAM;IACN,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,uBAAuB;IACvB,aAAa;IACb,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,gBAAgB;AACpB;;AAEA;IACI,qBAAqB;IACrB,YAAY;IACZ,kBAAkB;IAClB,WAAW;IACX,SAAS;IACT,kBAAkB;IAClB,aAAa;IACb,WAAW;IACX,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB\",\"sourcesContent\":[\"html, body {\\r\\n    margin: 0;\\r\\n    height: 100%;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    height: 100vh;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#canvas {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* display: block; */\\r\\n    visibility: hidden;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    /* width: 1; */\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\nmain {\\r\\n    /* height: 100%;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center; */\\r\\n}\\r\\n\\r\\n#uiCanvas {\\r\\n    /* width: 100%;\\r\\n    height: 100%; */\\r\\n    display: block;\\r\\n\\r\\n    image-rendering: -moz-crisp-edges;\\r\\n    image-rendering: -webkit-crisp-edges;\\r\\n    image-rendering: pixelated;\\r\\n    image-rendering: crisp-edges;\\r\\n}\\r\\n\\r\\n#ui {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 100vw;\\r\\n    height: 50px;\\r\\n    opacity: 0.9;\\r\\n    background-color: black;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n#ui > * {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    min-width: 100px;\\r\\n}\\r\\n\\r\\n#levelEditor {\\r\\n    background-color: red;\\r\\n    opacity: 0.9;\\r\\n    position: absolute;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    border-radius: 5px;\\r\\n    padding: 10px;\\r\\n    margin: 5px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#levelEditor > * {\\r\\n    text-decoration: none;\\r\\n    color: white;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var _i = 0; _i < this.length; _i++) {\n        var id = this[_i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i2 = 0; _i2 < modules.length; _i2++) {\n      var item = [].concat(modules[_i2]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","export default new Map([\r\n    ['demo', 0],\r\n    ['deathcam', 1],\r\n    ['puddle', 2],\r\n    ['greenBarrel', 3],\r\n    ['table', 4],\r\n    ['blood', 5],\r\n    ['flag', 6],\r\n    ['standingLamp', 8],\r\n    ['goldenLamp', 9],\r\n    ['hangingSkeleton', 10],\r\n    ['pillar', 12],\r\n    ['bones1', 13],\r\n    ['pots', 14],\r\n    ['furnance', 15],\r\n    ['greenPlant', 16],\r\n    ['skeleton', 17],\r\n    ['sink', 18],\r\n    ['brownPlant', 19],\r\n    ['urn', 20],\r\n    ['bones2', 21],\r\n    ['bones3', 22],\r\n    ['table', 24],\r\n    ['lamp', 25],\r\n    ['morePots', 26],\r\n    ['armor', 27],\r\n    ['cage', 28],\r\n    ['spears', 29],\r\n    ['vines', 30],\r\n    ['skeletonCage', 32],\r\n    ['bones', 33],\r\n    ['bed', 36],\r\n    ['bucket', 40],\r\n    ['bloodBones', 57],\r\n    ['brownBarrel', 58],\r\n    ['well', 59],\r\n    ['emptyWell', 60],\r\n])","export default [\r\n    'lamp',\r\n    'goldenLamp',\r\n    'puddle',\r\n    'bucket',\r\n    'skeleton',\r\n    'bones',\r\n    'bones1',\r\n    'bones2',\r\n    'bones3',\r\n    'bloodBones',\r\n    'enemy',\r\n    'enemyXWalking',\r\n    'enemyYWalking',\r\n    'enemyUp',\r\n    'enemyDown',\r\n    'enemyLeft',\r\n    'enemyRight',\r\n    'dogFood',\r\n    'food',\r\n    'health',\r\n    'ammo',\r\n    'powerUp',\r\n    'machinegun',\r\n    'chaingun',\r\n]","import Config from \"./Config\"\r\n\r\nexport default class BetterAudio {\r\n    audio: HTMLAudioElement\r\n    private playLoading = false\r\n    private playPromise: Promise<void>\r\n    name\r\n\r\n    constructor(sound: string, volume?: number) {\r\n        this.audio = new Audio(sound)\r\n        this.name = sound\r\n        this.audio.volume = volume || Config.soundVolume\r\n    }\r\n\r\n    play() {\r\n        this.audio.currentTime = 0\r\n        this.playLoading = true\r\n        this.playPromise = this.audio.play()\r\n        this.playPromise.then(() => this.playLoading = false)\r\n    }\r\n\r\n    playIfNotPlayed() {\r\n        // const isPlaying = this.audio.currentTime > 0 && !this.audio.paused && !this.audio.ended && this.audio.readyState > this.audio.HAVE_CURRENT_DATA;\r\n\r\n        // if (!isPlaying) {\r\n        //     this.audio.currentTime = 0\r\n        //     this.audio.play();\r\n        // }\r\n        if (this.audio.currentTime == 0) {\r\n            this.playLoading = true\r\n            this.playPromise = this.audio.play()\r\n            this.playPromise.then(() => this.playLoading = false)\r\n        }\r\n    }\r\n\r\n    pause() {\r\n        if (this.playLoading) {\r\n            this.playPromise.then(() => this.audio.pause())\r\n        } else {\r\n            this.audio.pause();\r\n        }\r\n    }\r\n\r\n    loop() {\r\n        this.audio.loop = true\r\n    }\r\n}","import { Vec3, Transform, radToDeg, m4, degToRad, log, Vec2 } from './utils'\r\nimport Shape from './shapes/level/Shape'\r\nimport Interactable from './shapes/level/Interactable'\r\nimport Enemy from './shapes/level/Enemy'\r\nimport Door from './shapes/level/Door'\r\nimport Config from './Config'\r\nimport Weapons from './shapes/ui/Weapons'\r\nimport { Program } from './programs/Program'\r\nimport Input from './Input'\r\nimport BetterAudio from './BetterAudio'\r\nimport audioHit from '../sounds/WSND0014.wav'\r\nimport audioDeath from '../sounds/DSDEATH.wav'\r\n\r\nexport default class Camera {\r\n    transform = new Transform\r\n    initialTransform: Transform\r\n    projectionMatrix: number[]\r\n    collidingShapes: Shape[]\r\n    killer: Enemy = null\r\n\r\n    audioHit = new BetterAudio(audioHit)\r\n    audioDeath = new BetterAudio(audioDeath)\r\n    readonly weapons: Weapons\r\n    private readonly fov = 60\r\n    private readonly zNear = Config.gridSize / 64\r\n    private readonly zFar = Config.gridSize * 48\r\n    private readonly rotationSpeed = 1.6\r\n    private readonly movementSpeed = Config.gridSize * 5\r\n    private readonly collisionRadius = Config.gridSize / 3\r\n    private readonly interactionDistance = Config.gridSize * 1.5\r\n    private readonly gl: WebGLRenderingContext\r\n\r\n    private blockedDirections: Vec3[] = []\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program) {\r\n        this.gl = gl\r\n        this.updateProjectionMatrix()\r\n        this.transform.rotation.y = degToRad(90)\r\n    }\r\n\r\n    get matrix() {\r\n        let cameraMatrix = m4.identity\r\n        cameraMatrix = m4.translate(cameraMatrix, this.transform.position.inverted)\r\n        cameraMatrix = m4.yRotate(cameraMatrix, this.transform.rotation.y)\r\n        return cameraMatrix\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.rotate(Input.instance.rotation * deltaTime)\r\n        let speed = Input.instance.direction.multiply(deltaTime)\r\n        if (Input.instance.sprinting) {\r\n            speed = speed.multiply(5)\r\n        }\r\n        if (Input.instance.noclip) {\r\n            this.move(speed)\r\n        } else {\r\n            this.move(speed, this.collidingShapes)\r\n        }\r\n    }\r\n\r\n    nearest(shapes: Shape[]) {\r\n        const sorted = shapes.sort((a, b) => {\r\n            return (\r\n                a.initialTransform.position.distanceTo(this.transform.position) -\r\n                b.initialTransform.position.distanceTo(this.transform.position)\r\n            )\r\n        })\r\n        return sorted[0]\r\n    }\r\n\r\n    inInteractionDistance(shape: Interactable) {\r\n        return shape.initialTransform.position.distanceTo(this.transform.position) <= this.interactionDistance\r\n    }\r\n\r\n    rotate(rotation: number) {\r\n        this.transform.rotation.y += rotation * this.rotationSpeed\r\n    }\r\n\r\n    move(direction: Vec3, collidingShapes?: Shape[]) {\r\n        const transformMatrix = m4.yRotation(-this.transform.rotation.y)\r\n        let deltaPosition = direction.inverted.multiply(this.movementSpeed).transformMat4(transformMatrix)\r\n\r\n        for (let blockedDirection of this.blockedDirections) {\r\n            // corner shorter side selection\r\n            if (blockedDirection.x && blockedDirection.z) {\r\n                if (Math.abs(blockedDirection.x) > Math.abs(blockedDirection.z)) {\r\n                    blockedDirection.x = 0\r\n                } else {\r\n                    blockedDirection.z = 0\r\n                }\r\n            }\r\n\r\n            // different sign\r\n            if (blockedDirection.z * deltaPosition.z < 0) deltaPosition.z = 0\r\n            if (blockedDirection.x * deltaPosition.x < 0) deltaPosition.x = 0\r\n        }\r\n\r\n        if (collidingShapes) {\r\n            this.checkCollisions(collidingShapes.filter(c => c.transform.position.distanceTo(this.transform.position) < Config.gridSize * 2))\r\n        } else {\r\n            this.blockedDirections = []\r\n        }\r\n\r\n        this.transform.position = this.transform.position.add(deltaPosition)\r\n    }\r\n\r\n    angleTo(targetPosition: Vec3) {\r\n        let toTargetDir = targetPosition.substract(this.transform.position).yZeroed.normalize\r\n        let lookingAtDir = Vec3.fromAngle(this.transform.rotation.y)\r\n        let toTargetAngle = Math.atan2(toTargetDir.z, toTargetDir.x)\r\n        let lookingAtAngle = Math.atan2(lookingAtDir.z, lookingAtDir.x)\r\n        let angleDiff = radToDeg(lookingAtAngle - toTargetAngle)\r\n        if (angleDiff > 180) angleDiff -= 360\r\n        if (angleDiff < -180) angleDiff += 360\r\n        return angleDiff\r\n    }\r\n\r\n    cuboidCollisionSide(cuboid: Shape) {\r\n        const cameraToWall = this.transform.position.yZeroed.to(cuboid.transform.position.yZeroed)\r\n        const cameraToWallDirection = cameraToWall.normalize\r\n\r\n        let steps = 1\r\n        if (cuboid instanceof Door) {\r\n            steps = 10\r\n        }\r\n\r\n        let collisionCandidates = [this.transform.position]\r\n        for (let i = this.collisionRadius; i > 0; i -= this.collisionRadius / steps) {\r\n            const currentRadius = i\r\n            const collidingPointTranslation = cameraToWallDirection.multiply(currentRadius)\r\n            const collidingPoint = this.transform.position.add(collidingPointTranslation)\r\n            collisionCandidates.push(collidingPoint)\r\n        }\r\n        for (let candidate of collisionCandidates) {\r\n            if (cuboid.bb.isColliding(candidate)) {\r\n                let collisionSide = cuboid.bb.nearestDistanceDirection(this.transform.position)\r\n                if (collisionSide.x && collisionSide.z) {\r\n                    const nearestCorner = cuboid.bb.nearestCorner(candidate)\r\n                    const nearestCornerDiff = this.transform.position.substract(nearestCorner).abs\r\n                    if (nearestCornerDiff.x > nearestCornerDiff.z) {\r\n                        collisionSide.z = 0\r\n                    } else {\r\n                        collisionSide.x = 0\r\n                    }\r\n                }\r\n                // log('col side', collisionSide)\r\n\r\n                // this.transform.position = this.transform.position.add(collisionSide)\r\n                return collisionSide\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    checkCollisions(shapes: Shape[]) {\r\n        const collidingSides = shapes\r\n            .map(c => this.cuboidCollisionSide(c))\r\n            .filter(side => side !== null)\r\n        // const blockedDirections = collidingSides.map(side => side.inverted)\r\n        const blockedDirections = collidingSides\r\n        const uniqueBlockedDirections = blockedDirections.filter((direction, index, self) =>\r\n            index === self.findIndex(d => d.equals(direction))\r\n        )\r\n        this.blockedDirections = uniqueBlockedDirections\r\n    }\r\n\r\n    isLookingAt(enemy: Enemy) {\r\n        const lookingAtDir = Vec3.fromAngle(this.transform.rotation.y)\r\n        const targetXDir = Vec3.up.cross(lookingAtDir).normalize\r\n\r\n        const enemyLeft = enemy.transform.position.add(targetXDir.multiply(enemy.texturedSize.x / 2))\r\n        const enemyRight = enemy.transform.position.substract(targetXDir.multiply(enemy.texturedSize.x / 2))\r\n\r\n        const angleLeft = this.angleTo(enemyLeft)\r\n        const angleRight = this.angleTo(enemyRight)\r\n\r\n        const lookingAtEnemy = 0 < angleLeft && angleLeft < 90 && -90 < angleRight && angleRight < 0\r\n\r\n        return lookingAtEnemy\r\n    }\r\n\r\n    get viewProjectionMatrix() {\r\n        return m4.multiply(this.matrix, this.projectionMatrix);\r\n    }\r\n\r\n    updateProjectionMatrix() {\r\n        const fieldOfViewRadians = degToRad(this.fov)\r\n        // const aspect = this.gl.canvas.clientWidth / this.gl.canvas.clientHeight\r\n        const aspect = 2\r\n        const zNear = this.zNear\r\n        const zFar = this.zFar\r\n        this.projectionMatrix = m4.perspective(fieldOfViewRadians, aspect, zNear, zFar);\r\n    }\r\n\r\n    lookAt(target: Vec3) {\r\n        let toTargetDir = target.substract(this.transform.position).yZeroed.normalize\r\n        let toTargetAngle = Math.atan2(toTargetDir.z, toTargetDir.x)\r\n        this.transform.rotation.y = toTargetAngle + degToRad(90)\r\n    }\r\n\r\n    lookAtKillerStep(deltaTime: number) {\r\n        const angle = this.angleTo(this.killer.transform.position)\r\n        if (Math.abs(angle) < Math.abs(radToDeg(this.rotationSpeed * deltaTime))) {\r\n            this.lookAt(this.killer.transform.position)\r\n        } else {\r\n            if (angle > 0) {\r\n                this.rotate(-1 * deltaTime)\r\n            } else if (angle < 0) {\r\n                this.rotate(1 * deltaTime)\r\n            }\r\n        }\r\n    }\r\n}","export default {\r\n    gridSize: 64,\r\n    uiScale: 2,\r\n    debug: false,\r\n    // soundVolume: 0.05,\r\n    // musicVolume: 0.03,\r\n    soundVolume: 1,\r\n    musicVolume: 0.6,\r\n}","import { ColorProgram } from './programs/ColorProgram'\r\nimport { TextureProgram } from './programs/TextureProgram'\r\n\r\nimport { degToRad, log, m4, radToDeg, Vec3 } from './utils'\r\nimport Camera from './Camera'\r\nimport Input from './Input'\r\nimport Textures from './Textures'\r\n\r\nimport Level from './Level'\r\n\r\nimport Crosshair from './shapes/ui/Crosshair'\r\nimport Interactable from './shapes/level/Interactable'\r\nimport Config from './Config'\r\nimport UI from './shapes/ui/UI'\r\nimport Raycaster from './Raycaster'\r\n\r\n\r\nexport default class Game {\r\n    private readonly colorProgram: ColorProgram\r\n    private readonly textureProgram: TextureProgram\r\n    private readonly camera: Camera\r\n    private readonly textures: Textures\r\n    private readonly level: Level\r\n    private readonly crosshair: Crosshair\r\n    private readonly fixedUpdateInterval = 20\r\n    private gl: WebGLRenderingContext\r\n    private canvas: HTMLCanvasElement\r\n    private currentLevel = 1\r\n    private state = \"startScreen\"\r\n    private firstLevelLoaded = false\r\n\r\n    constructor() {\r\n\r\n        this.initWebgl()\r\n        this.colorProgram = new ColorProgram(this.gl)\r\n        this.textureProgram = new TextureProgram(this.gl)\r\n\r\n        this.camera = new Camera(this.gl, this.textureProgram)\r\n        this.camera.updateProjectionMatrix()\r\n        this.textures = new Textures(this.gl)\r\n        this.level = new Level(this.gl, this.textureProgram, this.colorProgram)\r\n        this.crosshair = new Crosshair(this.gl, this.colorProgram)\r\n        this.loadLevel(this.currentLevel)\r\n    }\r\n\r\n    private loadLevel(number: number) {\r\n        this.level.load(number, () => {\r\n            let shapes = []\r\n            shapes.push(...this.level.enemies.map(enemy => enemy.loot))\r\n            shapes.push(...this.level.enemies.map(enemy => enemy.tempFlag))\r\n            shapes.push(...this.level.shapes)\r\n            this.textures.load(shapes, () => {\r\n                this.camera.transform.position = this.level.playerPosition\r\n                this.camera.initialTransform = this.camera.transform.clone()\r\n                this.camera.collidingShapes = [...this.level.collidingCuboids, ...this.level.decorations.filter(decoration => decoration.bb)]\r\n                if (!this.firstLevelLoaded) {\r\n                    this.firstLevelLoaded = true\r\n                    this.startGameLoop()\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    private startGameLoop() {\r\n        let then = 0\r\n        const render = (now: number) => {\r\n            now *= 0.001  // convert to seconds\r\n            const deltaTime = now - then\r\n            then = now\r\n\r\n            this.draw(deltaTime)\r\n\r\n            requestAnimationFrame(render)\r\n        }\r\n        requestAnimationFrame(render)\r\n\r\n        const fixedDeltaTime = this.fixedUpdateInterval * 0.001\r\n        setInterval(() => {\r\n            this.fixedUpdate(fixedDeltaTime)\r\n        }, this.fixedUpdateInterval)\r\n    }\r\n\r\n    private fixedUpdate(deltaTime: number) {\r\n        if (Input.instance.interacting) {\r\n            const nearestInteractable = this.camera.nearest(\r\n                this.level.interactables\r\n                    .filter(i => i.canInteract)\r\n                    .filter(i => {\r\n                        const angle = this.camera.angleTo(i.transform.position)\r\n                        return Math.abs(angle) < 60\r\n                    })\r\n            ) as Interactable\r\n            if (nearestInteractable && this.camera.inInteractionDistance(nearestInteractable)) {\r\n                nearestInteractable.toggle()\r\n                Input.instance.justInteracted = true\r\n            }\r\n        }\r\n\r\n        this.camera.update(deltaTime)\r\n\r\n        for (let pickup of this.level.pickups.filter(pickup => !pickup.pickedUp)) {\r\n            if (this.camera.transform.position.horizontalDistanceTo(pickup.transform.position) <= pickup.pickupRange) {\r\n                pickup.pickUp(this.camera)\r\n            }\r\n        }\r\n\r\n        for (let door of this.level.doors) {\r\n            door.update(deltaTime)\r\n            if (door.opened) {\r\n                door.tryToClose(deltaTime, this.camera, this.level.enemies)\r\n            }\r\n        }\r\n        for (let secretWall of this.level.secretWalls) {\r\n            secretWall.update(deltaTime, this.camera)\r\n        }\r\n\r\n        const raycaster = Raycaster.fromDir(this.camera.transform.position, Vec3.fromAngle(this.camera.transform.rotation.y))\r\n        const shapeLookedAt = raycaster.nextShape(this.level.collidingCuboids)\r\n        for (let enemy of this.level.enemies) {\r\n            enemy.update(deltaTime, this.camera)\r\n            if (this.camera.isLookingAt(enemy) && shapeLookedAt) {\r\n                const enemyDistance = this.camera.transform.position.horizontalDistanceTo(enemy.transform.position)\r\n                const shapeLookedAtDistance = this.camera.transform.position.horizontalDistanceTo(shapeLookedAt.transform.position)\r\n                if (enemyDistance < shapeLookedAtDistance) {\r\n                    if (UI.instance.weapons.currentWeapon.justShot) {\r\n                        const distance = this.camera.transform.position.horizontalDistanceTo(enemy.transform.position)\r\n                        if (distance <= UI.instance.weapons.currentWeapon.range && !enemy.isDead) {\r\n                            enemy.damage(UI.instance.weapons.currentWeapon.damage)\r\n                            UI.instance.score += enemy.score\r\n                        }\r\n                        if (enemy.isDead) {\r\n                            this.level.spawnLoot(enemy)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (enemy.isDead) {\r\n                enemy.followingPlayer = null\r\n            } else {\r\n                const angleDiff = enemy.rotateTexture(this.camera.transform.position)\r\n                if (!enemy.followingPlayer) {\r\n                    let startFollowing = false\r\n\r\n\r\n                    // inShotNoticeDistance(camera: Camera) {\r\n                    //     return this.transform.position.horizontalDistanceTo(camera.transform.position) <= this.shotNoticeDistance\r\n                    // }\r\n                    const distance = enemy.transform.position.horizontalDistanceTo(this.camera.transform.position)\r\n                    if (enemy.canSee(this.camera.transform.position, this.level.collidingCuboids)) {\r\n                        if (UI.instance.weapons.currentWeapon.justShot) {\r\n                            startFollowing = true\r\n                        } else if (Math.abs(angleDiff) <= 90) {\r\n\r\n                            startFollowing = true\r\n                        } else if (distance <= Config.gridSize * 2) {\r\n\r\n                            startFollowing = true\r\n                        }\r\n                    }\r\n                    if (startFollowing) {\r\n                        enemy.followingPlayer = this.camera\r\n                        if (UI.instance.health > 0) {\r\n                            enemy.audioSight.play()\r\n                        }\r\n                        enemy.state = \"walking\"\r\n                    }\r\n                }\r\n                const canShot = enemy.tryToShoot(this.camera, this.level.collidingCuboids)\r\n                // console.log(enemy.state)\r\n                if (!canShot) {\r\n                    enemy.makeStepTowardsPlayer(deltaTime, this.level.doors)\r\n                }\r\n                enemy.makeStepIfWalking(deltaTime, this.level.collidingCuboids)\r\n            }\r\n        }\r\n\r\n        if (UI.instance.health == 0 && UI.instance.state == \"game\") {\r\n            this.camera.audioDeath.play()\r\n            UI.instance.state = \"dead\"\r\n            setTimeout(() => {\r\n                UI.instance.takeLife()\r\n                this.camera.transform = this.camera.initialTransform\r\n                UI.instance.state = \"game\"\r\n                this.camera.killer = null\r\n                this.loadLevel(this.currentLevel)\r\n            }, 4000)\r\n        }\r\n        if (this.camera.killer) {\r\n            this.camera.lookAtKillerStep(deltaTime)\r\n        }\r\n        UI.instance.update(deltaTime)\r\n        // console.log(this.state)\r\n        // console.log(UI.instance.health)\r\n    }\r\n\r\n    private draw(deltaTime: number) {\r\n        this.setDrawSettings()\r\n        // this.level.shapes.forEach(s => s.updateBuffers())\r\n\r\n        // this.crosshair.draw(this.camera.projectionMatrix)\r\n        this.level.floor.draw(this.camera.viewProjectionMatrix)\r\n        this.level.ceiling.draw(this.camera.viewProjectionMatrix)\r\n\r\n        for (let pickup of this.level.pickups.filter(pickup => !pickup.pickedUp)) {\r\n            pickup.lookAtCamera(this.camera.transform.rotation.y)\r\n            pickup.draw(this.camera.viewProjectionMatrix)\r\n        }\r\n\r\n        for (let decoration of this.level.decorations) {\r\n            decoration.lookAtCamera(this.camera.transform.rotation.y)\r\n            decoration.draw(this.camera.viewProjectionMatrix)\r\n        }\r\n\r\n        if (Input.instance.renderWalls) {\r\n            for (let wall of this.level.walls) {\r\n                wall.draw(this.camera.viewProjectionMatrix)\r\n            }\r\n            for (let wall of this.level.secretWalls) {\r\n                wall.draw(this.camera.viewProjectionMatrix)\r\n            }\r\n        }\r\n\r\n        for (let exit of this.level.exits) {\r\n            exit.draw(this.camera.viewProjectionMatrix)\r\n        }\r\n\r\n        for (let door of this.level.doors) {\r\n            door.draw(this.camera.viewProjectionMatrix)\r\n        }\r\n\r\n        for (let enemy of this.level.enemies) {\r\n            enemy.lookAtCamera(this.camera.transform.rotation.y)\r\n            enemy.draw(this.camera.viewProjectionMatrix)\r\n            if (Config.debug) {\r\n                for (let field of enemy.pathfinderFields) {\r\n                    enemy.tempFlag.transform.position = field.subGridPos\r\n                    enemy.tempFlag.lookAtCamera(this.camera.transform.rotation.y)\r\n                    enemy.tempFlag.draw(this.camera.viewProjectionMatrix)\r\n                }\r\n            }\r\n        }\r\n        UI.instance.draw(this.canvas)\r\n    }\r\n\r\n    private initWebgl() {\r\n        this.canvas = document.getElementById(\"canvas\") as HTMLCanvasElement\r\n        this.canvas.width = 608 * Config.uiScale\r\n        this.canvas.height = 304 * Config.uiScale;\r\n\r\n        UI.instance.init();\r\n\r\n        this.gl = this.canvas.getContext(\"webgl\")\r\n\r\n        if (!this.gl) {\r\n            alert(\"No webgl for you\")\r\n        }\r\n\r\n        this.gl.clearColor(0, 0, 0, 0)\r\n\r\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n        this.gl.enable(this.gl.BLEND);\r\n\r\n        this.gl.enable(this.gl.CULL_FACE)\r\n        this.gl.enable(this.gl.DEPTH_TEST)\r\n    }\r\n\r\n    private setDrawSettings() {\r\n        this.resizeCanvasToDisplaySize(this.gl.canvas)\r\n\r\n        this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height)\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT)\r\n\r\n        Input.instance.update()\r\n    }\r\n\r\n    private resizeCanvasToDisplaySize(canvas: HTMLCanvasElement) {\r\n        // const displayWidth = canvas.clientWidth\r\n        // const displayHeight = canvas.clientHeight\r\n        const displayWidth = 608 * Config.uiScale\r\n        const displayHeight = 304 * Config.uiScale\r\n\r\n        const resizeNeeded = canvas.width !== displayWidth || canvas.height !== displayHeight\r\n\r\n        if (resizeNeeded) {\r\n            canvas.width = displayWidth\r\n            canvas.height = displayHeight\r\n            this.camera.updateProjectionMatrix()\r\n        }\r\n\r\n        return resizeNeeded\r\n    }\r\n}","import Config from './Config'\r\nimport UI from './shapes/ui/UI'\r\nimport { Vec3 } from './utils'\r\n\r\nexport default class Input {\r\n    static instance = new this\r\n\r\n    direction = Vec3.zero\r\n    rotation = 0\r\n\r\n    sprinting = false\r\n    shooting = false\r\n    shot = false\r\n    justShot = true\r\n\r\n    interacting = false\r\n    justInteracted = false\r\n\r\n    noclip = false\r\n\r\n    renderWalls = true\r\n    justChangedRenderWalls = false\r\n\r\n    lastNumber: number = null\r\n\r\n    private pressedKeys: string[] = []\r\n\r\n    constructor() {\r\n        this.addKeyUpListener()\r\n        this.addKeyDownListener()\r\n        this.addAdditionalListeners()\r\n    }\r\n\r\n    get inputsBlocked() {\r\n        // return !UI.instance.health || UI.instance.showingMenu\r\n        return UI.instance.state != \"game\"\r\n    }\r\n\r\n    update() {\r\n        this.direction = Vec3.zero\r\n\r\n        this.rotation = 0\r\n\r\n        this.shooting = false\r\n\r\n        this.shot = false\r\n\r\n        this.interacting = false\r\n\r\n        this.noclip = false\r\n\r\n        this.sprinting = false\r\n\r\n        this.lastNumber = null\r\n\r\n        // console.log(this.inputsBlocked)\r\n        if (!this.inputsBlocked) {\r\n            if ((this.isPressed('ArrowUp') || this.isPressed('KeyW')) && !this.isPressed('KeyS') && !this.isPressed('ArrowDown')) this.direction.z = 1\r\n            if ((this.isPressed('ArrowDown') || this.isPressed('KeyS')) && !this.isPressed('KeyW') && !this.isPressed('ArrowUp')) this.direction.z = -1\r\n            // if (this.isPressed('KeyA') && !this.isPressed('KeyD')) this.direction.x = 1\r\n            // if (this.isPressed('KeyD') && !this.isPressed('KeyA')) this.direction.x = -1\r\n            this.direction = this.direction.normalize\r\n\r\n            if ((this.isPressed('KeyA') || this.isPressed('ArrowLeft')) && !this.isPressed('ArrowRight') && !this.isPressed('KeyD')) this.rotation = -1\r\n            if ((this.isPressed('KeyD') || this.isPressed('ArrowRight')) && !this.isPressed('ArrowLeft') && !this.isPressed('KeyA')) this.rotation = 1\r\n\r\n            if (this.isPressed('Space')) this.shooting = true\r\n\r\n            if (this.isPressed('Space')) {\r\n                if (!this.justShot) {\r\n                    this.shot = true\r\n                }\r\n            } else {\r\n                this.justShot = false\r\n            }\r\n\r\n            if (this.isPressed('KeyE')) {\r\n                if (!this.justInteracted) {\r\n                    this.interacting = true\r\n                }\r\n            } else {\r\n                this.justInteracted = false\r\n            }\r\n\r\n            if (Config.debug) {\r\n                if (this.isPressed('KeyC')) {\r\n                    this.noclip = true\r\n                }\r\n                if (this.isPressed('ShiftLeft')) {\r\n                    this.sprinting = true\r\n                }\r\n            }\r\n\r\n            if (this.isPressed('Digit0')) this.lastNumber = 0\r\n            if (this.isPressed('Digit1')) this.lastNumber = 1\r\n            if (this.isPressed('Digit2')) this.lastNumber = 2\r\n            if (this.isPressed('Digit3')) this.lastNumber = 3\r\n            if (this.isPressed('Digit4')) this.lastNumber = 4\r\n            if (this.isPressed('Digit5')) this.lastNumber = 5\r\n            if (this.isPressed('Digit6')) this.lastNumber = 6\r\n            if (this.isPressed('Digit7')) this.lastNumber = 7\r\n            if (this.isPressed('Digit8')) this.lastNumber = 8\r\n            if (this.isPressed('Digit9')) this.lastNumber = 9\r\n        }\r\n    }\r\n\r\n    private isPressed(key: string) {\r\n        return this.pressedKeys.includes(key)\r\n    }\r\n\r\n    private addKeyUpListener() {\r\n        addEventListener('keyup', e => {\r\n            if (this.pressedKeys.includes(e.code)) {\r\n                this.pressedKeys = this.pressedKeys.filter(key => key != e.code)\r\n            }\r\n        })\r\n    }\r\n\r\n    private addKeyDownListener() {\r\n        addEventListener('keydown', e => {\r\n            if (!this.pressedKeys.includes(e.code)) {\r\n                this.pressedKeys.push(e.code)\r\n            }\r\n        })\r\n    }\r\n\r\n    private addAdditionalListeners() {\r\n        addEventListener('keydown', e => {\r\n            if (e.code == \"Minus\") {\r\n                Config.uiScale -= 0.1\r\n            } else if (e.code == \"Equal\") {\r\n                Config.uiScale += 0.1\r\n            } else if (e.code == \"Backspace\") {\r\n                Config.uiScale = 1\r\n            } else if (e.code == \"KeyV\" && Config.debug) {\r\n                this.renderWalls = !this.renderWalls\r\n            } else if (e.code == 'Space' || e.code == \"Enter\") {\r\n                if (UI.instance.state == \"startScreen\") {\r\n                    UI.instance.state = \"menu\"\r\n                    UI.instance.audioSplash.pause()\r\n                    UI.instance.audioMenu.play()\r\n                } else if (UI.instance.state == \"menu\") {\r\n                    if (UI.instance.menu.option == 0) {\r\n                        UI.instance.menu.audioSelect.play()\r\n                        UI.instance.audioLevel.play()\r\n                        UI.instance.audioMenu.pause()\r\n                        UI.instance.state = \"loading\"\r\n                        // UI.instance.state = \"game\"\r\n                    } else if (UI.instance.menu.option == 8) {\r\n                        UI.instance.menu.audioSelect.play()\r\n                        UI.instance.audioMenu.pause()\r\n                        UI.instance.audioSplash.play()\r\n                        UI.instance.state = \"startScreen\"\r\n                    }\r\n                }\r\n            } else if (e.code == \"Escape\") {\r\n                if (UI.instance.state == \"menu\") {\r\n                    UI.instance.menu.audioBack.play()\r\n                    UI.instance.audioMenu.pause()\r\n                    UI.instance.audioSplash.play()\r\n                    UI.instance.state = \"startScreen\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n}","import FieldData from '../../common/FieldData';\r\nimport { degToRad, Vec3 } from './utils';\r\nimport Wall from './shapes/level/Wall'\r\nimport Enemy from './shapes/level/Enemy'\r\nimport Cuboid from './shapes/level/Cuboid';\r\nimport Door from './shapes/level/Door';\r\nimport Plane from './shapes/level/Plane';\r\nimport Shape from './shapes/level/Shape';\r\nimport Interactable from './shapes/level/Interactable';\r\n\r\nimport Pickup from './shapes/level/pickups/Pickup';\r\nimport Ammo from './shapes/level/pickups/Ammo'\r\n\r\nimport Config from './Config'\r\nimport { TextureProgram } from './programs/TextureProgram';\r\nimport { ColorProgram } from './programs/ColorProgram';\r\nimport { Program } from './programs/Program';\r\nimport DogFood from './shapes/level/pickups/DogFood';\r\nimport Food from './shapes/level/pickups/Food';\r\nimport HealthPack from './shapes/level/pickups/HealthPack';\r\nimport Machinegun from './shapes/level/pickups/Machinegun';\r\n\r\nimport Decoration from './shapes/level/decorations/Decoration';\r\nimport DecorationMap from '../../common/DecorationMap'\r\nimport NotCollidingFieldValues from '../../common/NotCollidingFieldValues';\r\nimport GoldenCross from './shapes/level/pickups/GoldenCross';\r\nimport GoldenCup from './shapes/level/pickups/GoldenCup';\r\nimport GoldenBox from './shapes/level/pickups/GoldenBox';\r\nimport GoldenCrown from './shapes/level/pickups/GoldenCrown';\r\nimport PowerUp from './shapes/level/pickups/PowerUp';\r\nimport Pathfinder from './Pathfinder';\r\nimport Lever from './shapes/level/Lever';\r\nimport WallSecretDoor from './shapes/level/WallSecretDoor';\r\nimport UI from './shapes/ui/UI';\r\nimport PointItem from './shapes/level/pickups/PointItem';\r\n\r\n\r\nexport default class Level {\r\n    width: number\r\n    height: number\r\n    center: Vec3\r\n    playerPosition: Vec3\r\n    enemies: Enemy[] = []\r\n    walls: Wall[] = []\r\n    secretWalls: WallSecretDoor[] = []\r\n    doors: Door[] = []\r\n    shapes: Shape[] = []\r\n    floor: Plane\r\n    ceiling: Plane\r\n    exits: Lever[]\r\n    collidingCuboids: Cuboid[] = []\r\n    interactables: Interactable[] = []\r\n    textureProgram: TextureProgram\r\n    colorProgram: ColorProgram\r\n    pickups: Pickup[] = []\r\n    decorations: Decoration[] = []\r\n\r\n    private readonly gl: WebGLRenderingContext\r\n    private fields: FieldData[]\r\n    gridFields: FieldData[]\r\n\r\n    constructor(gl: WebGLRenderingContext, textureProgram: TextureProgram, colorProgram: ColorProgram) {\r\n        this.gl = gl\r\n        this.textureProgram = textureProgram\r\n        this.colorProgram = colorProgram\r\n    }\r\n\r\n    load(level: number, callback?: () => void) {\r\n        this.loadLevel(level, () => {\r\n            this.createObjects()\r\n            Pathfinder.instance.prepareLevel(this)\r\n            callback?.()\r\n        })\r\n    }\r\n\r\n    spawnLoot(enemy: Enemy) {\r\n        if (enemy.loot) {\r\n            this.pickups.push(enemy.loot)\r\n            enemy.loot.transform.position = enemy.transform.position.clone()\r\n            // enemy.loot.transform.position.x += 30\r\n            // enemy.loot.transform.position.z += 30\r\n            enemy.loot.setInitialState()\r\n        }\r\n    }\r\n\r\n    get verticesCount() {\r\n        return this.shapes.map(el => el.verticesCount).reduce((a, b) => a + b)\r\n    }\r\n\r\n    private loadLevel(number: number, callback?: () => void) {\r\n        import(`../levels/${number}.json`)\r\n            .then(({ default: level }) => {\r\n                this.width = level.width\r\n                this.height = level.height\r\n                this.center = new Vec3(this.width * Config.gridSize / 2, 0, this.height * Config.gridSize / 2)\r\n                this.fields = JSON.parse(JSON.stringify(level.fields))\r\n                this.checkWallsDirections()\r\n                this.changeWallsNeighboursTextures()\r\n                this.applyGridSize()\r\n                this.gridFields = JSON.parse(JSON.stringify(level.fields))\r\n                callback?.()\r\n            });\r\n    }\r\n\r\n    private checkWallsDirections() {\r\n        for (let door of this.fields.filter(f => f.value == 'door' || f.value == \"exitDoor\" || (f.value.toLowerCase().includes('secret') && f.value.toLowerCase().includes('wall')))) {\r\n            const horizontalNeighbours = this.fields\r\n                .filter(f => f.y == door.y && (f.x == door.x + 1 || f.x == door.x - 1))\r\n                .filter(f => f.value.toLowerCase().includes('wall'))\r\n            const verticalNeighbours = this.fields\r\n                .filter(f => f.x == door.x && (f.y == door.y + 1 || f.y == door.y - 1))\r\n                .filter(f => f.value.toLowerCase().includes('wall'))\r\n            if (horizontalNeighbours.length == 2 && verticalNeighbours.length == 0) {\r\n                door.rotation = 0\r\n            } else if (horizontalNeighbours.length == 0 && verticalNeighbours.length == 2) {\r\n                door.rotation = 270\r\n            }\r\n        }\r\n    }\r\n\r\n    private changeWallsNeighboursTextures() {\r\n        for (let door of this.fields.filter(f => f.value == 'door' || f.value == 'exitDoor')) {\r\n            for (let direction of [[0, -1], [0, 1], [-1, 0], [1, 0]]) {\r\n                const neighbour = this.fields.find(f => {\r\n                    return f.x == door.x + direction[0] && f.y == door.y + direction[1]\r\n                })\r\n                if (neighbour) {\r\n                    neighbour.wallDirection = direction\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyGridSize() {\r\n        for (let field of this.fields) {\r\n            field.x = (field.x * Config.gridSize) + Config.gridSize / 2\r\n            field.y = (field.y * Config.gridSize) + Config.gridSize / 2\r\n        }\r\n    }\r\n\r\n    private createObjects() {\r\n        const playerPositionData = this.fields.find(f => f.value == 'player')\r\n        this.playerPosition = new Vec3(playerPositionData.x, 0, playerPositionData.y)\r\n\r\n        this.walls = this.getLevelObjectsList('wall', Wall) as Wall[]\r\n        this.enemies = this.getLevelObjectsList('enemy', Enemy) as Enemy[]\r\n        this.doors = this.getLevelObjectsList('door', Door) as Door[]\r\n        const ammos = this.getLevelObjectsList('ammo', Ammo) as Ammo[]\r\n        const dogFoods = this.getLevelObjectsList('dogFood', DogFood) as DogFood[]\r\n        const foods = this.getLevelObjectsList('food', Food) as Food[]\r\n        const healthPacks = this.getLevelObjectsList('health', HealthPack) as HealthPack[]\r\n        const powerUps = this.getLevelObjectsList('powerUp', PowerUp) as PowerUp[]\r\n        const machineguns = this.getLevelObjectsList('machinegun', Machinegun) as Machinegun[]\r\n        const goldenCrosses = this.getLevelObjectsList('goldCross', GoldenCross) as GoldenCross[]\r\n        const goldenCups = this.getLevelObjectsList('goldCup', GoldenCup) as GoldenCup[]\r\n        const goldenBoxes = this.getLevelObjectsList('goldBox', GoldenBox) as GoldenBox[]\r\n        const goldenCrowns = this.getLevelObjectsList('goldCrown', GoldenCrown) as GoldenCrown[]\r\n\r\n        this.exits = []\r\n        this.exits.push(...this.getLevelObjectsList('exitLever', Lever) as Lever[])\r\n        this.exits.push(...this.getLevelObjectsList('secretExitLever', Lever) as Lever[])\r\n\r\n        this.decorations = []\r\n        for (let decorationName of DecorationMap.keys()) {\r\n            this.decorations.push(...this.getLevelObjectsList(decorationName, Decoration) as Decoration[])\r\n        }\r\n        this.decorations.filter(d => !NotCollidingFieldValues.includes(d.type)).forEach(d => d.createBB())\r\n\r\n        this.secretWalls = this.walls.filter(w => w instanceof WallSecretDoor).map(w => w as WallSecretDoor)\r\n        this.walls = this.walls.filter(w => !(w instanceof WallSecretDoor))\r\n        this.collidingCuboids = []\r\n        this.collidingCuboids.push(...this.walls)\r\n        this.collidingCuboids.push(...this.secretWalls)\r\n        this.collidingCuboids.push(...this.doors)\r\n        this.collidingCuboids.push(...this.exits)\r\n        this.interactables = []\r\n        this.interactables.push(...this.doors)\r\n        this.interactables.push(...this.secretWalls)\r\n        this.interactables.push(...this.exits)\r\n        this.pickups = []\r\n        this.pickups.push(...ammos)\r\n        this.pickups.push(...dogFoods)\r\n        this.pickups.push(...foods)\r\n        this.pickups.push(...healthPacks)\r\n        this.pickups.push(...powerUps)\r\n        this.pickups.push(...machineguns)\r\n        this.pickups.push(...goldenCrosses)\r\n        this.pickups.push(...goldenCups)\r\n        this.pickups.push(...goldenBoxes)\r\n        this.pickups.push(...goldenCrowns)\r\n\r\n        // this.doors[0].transform.position.x += 45\r\n\r\n        this.floor = new Plane(this.gl, this.colorProgram)\r\n        this.floor.setColor(\"#707070\")\r\n        this.floor.transform.position = this.center.clone()\r\n        this.floor.transform.position.y = -Config.gridSize / 2\r\n        this.floor.transform.scale.set(this.width * Config.gridSize, 1, this.height * Config.gridSize)\r\n\r\n        this.ceiling = new Plane(this.gl, this.colorProgram)\r\n        this.ceiling.setColor(\"#383838\")\r\n        this.ceiling.transform.position = this.center.clone()\r\n        this.ceiling.transform.position.y = Config.gridSize / 2\r\n        this.ceiling.transform.scale.set(this.width * Config.gridSize, 1, this.height * Config.gridSize)\r\n        this.ceiling.transform.rotation.z = degToRad(180)\r\n\r\n        // {\r\n        //     const health = new DogFood(this.gl, this.textureProgram)\r\n        //     health.transform.position.x = 1888\r\n        //     health.transform.position.z = 1344\r\n        //     health.setInitialState()\r\n        //     this.pickups.push(health)\r\n        // }\r\n        // {\r\n        //     const health = new Food(this.gl, this.textureProgram)\r\n        //     health.transform.position.x = 1888 - Config.gridSize * 1\r\n        //     health.transform.position.z = 1344\r\n        //     health.setInitialState()\r\n        //     this.pickups.push(health)\r\n        // }\r\n        // {\r\n        //     const health = new HealthPack(this.gl, this.textureProgram)\r\n        //     health.transform.position.x = 1888 - Config.gridSize * 2\r\n        //     health.transform.position.z = 1344\r\n        //     health.setInitialState()\r\n        //     this.pickups.push(health)\r\n        // }\r\n\r\n        UI.instance.enemiesCount = this.enemies.length\r\n        UI.instance.secretsCount = this.secretWalls.length\r\n        UI.instance.treasuresCount = this.pickups.filter(p => p instanceof PointItem).length\r\n\r\n        this.shapes = [\r\n            ...this.walls,\r\n            ...this.secretWalls,\r\n            ...this.enemies,\r\n            ...this.doors,\r\n            ...this.pickups,\r\n            ...this.decorations,\r\n            ...this.exits,\r\n            this.floor,\r\n            this.ceiling,\r\n        ]\r\n    }\r\n\r\n    private getLevelObjectsList<T extends Shape>(value: string, SpecificShape: new (gl: WebGLRenderingContext, program: Program, type?: string) => T) {\r\n        const objects: Shape[] = []\r\n        for (let field of this.fields.filter(f => f.value.toLowerCase().includes(value.toLowerCase()))) {\r\n            let shape\r\n            if (field.value.toLowerCase().includes('wall')) {\r\n                if (field.value.toLowerCase().includes('wallsecret')) {\r\n                    shape = new WallSecretDoor(this.gl, this.textureProgram, field.value)\r\n                } else {\r\n                    shape = new Wall(this.gl, this.textureProgram, field.value)\r\n                }\r\n            } else if (field.value.toLowerCase().includes(\"walking\")) {\r\n                if (field.value == 'enemyZWalking') {\r\n                    shape = new Enemy(this.gl, this.textureProgram, 'z')\r\n                } else if (field.value == 'enemyXWalking') {\r\n                    shape = new Enemy(this.gl, this.textureProgram, 'x')\r\n                }\r\n            } else if (field.value.toLowerCase().includes(\"door\")) {\r\n                if (field.value == 'exitDoor') {\r\n                    shape = new Door(this.gl, this.textureProgram, field.value)\r\n                } else {\r\n                    shape = new Door(this.gl, this.textureProgram)\r\n                }\r\n            } else if (field.value.toLowerCase().includes(\"enemy\")) {\r\n                for (let dir of ['up', 'down', 'left', 'right']) {\r\n                    if (field.value.toLowerCase().includes(dir)) {\r\n                        shape = new Enemy(this.gl, this.textureProgram, dir)\r\n                    }\r\n                }\r\n            } else {\r\n                shape = new SpecificShape(this.gl, this.textureProgram)\r\n            }\r\n            shape.transform.position.x = field.x\r\n            shape.transform.position.z = field.y\r\n            if (field.rotation) {\r\n                shape.transform.rotation.y = degToRad(field.rotation)\r\n            }\r\n            if (field.value.toLowerCase().includes('wall')) {\r\n                if (field.value.toLowerCase().includes('wallsecret')) {\r\n                    (shape as WallSecretDoor).dirToCalculate = true\r\n                }\r\n            }\r\n            shape.setInitialState()\r\n            if (field.wallDirection && shape instanceof Wall) {\r\n                const dir = new Vec3(field.wallDirection[0], 0, field.wallDirection[1])\r\n                if (dir.equals(Vec3.backward)) {\r\n                    shape.setTexture(shape.nearDoorDarkTexture, 0)\r\n                }\r\n                if (dir.equals(Vec3.forward)) {\r\n                    shape.setTexture(shape.nearDoorDarkTexture, 1)\r\n                }\r\n                if (dir.equals(Vec3.left)) {\r\n                    shape.setTexture(shape.nearDoorLightTexture, 3)\r\n                }\r\n                if (dir.equals(Vec3.right)) {\r\n                    shape.setTexture(shape.nearDoorLightTexture, 2)\r\n                }\r\n            } else if (shape instanceof Decoration) {\r\n                shape.type = value\r\n                shape.setTexture(shape.textureNumber)\r\n            }\r\n            objects.push(shape)\r\n        }\r\n        return objects\r\n    }\r\n}","import { EvalDevToolModulePlugin } from \"webpack\"\r\nimport FieldData from \"../../common/FieldData\"\r\nimport NotCollidingFieldValues from \"../../common/NotCollidingFieldValues\"\r\nimport Config from \"./Config\"\r\nimport Level from \"./Level\"\r\nimport Shape from \"./shapes/level/Shape\"\r\nimport { log, Vec2, Vec3 } from \"./utils\"\r\n\r\nexport interface PathfinderFieldData {\r\n    subGridPos: Vec3\r\n    shape: string\r\n    realPos: Vec3\r\n}\r\n\r\nexport default class Pathfinder {\r\n    static instance = new this\r\n\r\n    private allSubFieldsCreated: PathField[] = []\r\n    private envFields: FieldData[] = []\r\n\r\n    private open: PathField[] = []\r\n    private closed: PathField[] = []\r\n\r\n    private readonly subdivisions = 3\r\n\r\n    get subGridSize() {\r\n        return Config.gridSize / this.subdivisions\r\n    }\r\n\r\n    prepareLevel(level: Level) {\r\n        this.envFields = level.gridFields\r\n        this.allSubFieldsCreated = []\r\n    }\r\n\r\n    private subFieldPosData(position: Vec2) {\r\n        const gridPos = this.subGridPosToGridPos(position)\r\n        const envField = this.envFields.find(f => new Vec2(f.x, f.y).equals(gridPos))\r\n        return {\r\n            walkable: !envField || NotCollidingFieldValues.includes(envField.value) || envField.value.toLowerCase().includes('door'),\r\n            shape: envField?.value\r\n        }\r\n    }\r\n\r\n    private subGridPosToGridPos(pos: Vec2) {\r\n        return pos.map(v => Math.floor(v / this.subdivisions))\r\n    }\r\n\r\n    private gridPosToRealPos(pos: Vec2) {\r\n        const realPosVec2 = pos.map(v => v * Config.gridSize + Config.gridSize / 2)\r\n        const gridPosVec3 = new Vec3(realPosVec2.x, 0, realPosVec2.y)\r\n        return gridPosVec3\r\n\r\n    }\r\n\r\n    private realPosToSubGridPos(v: Vec3) {\r\n        const gridPosVec3 = v.map(v => Math.floor(v / this.subGridSize))\r\n        const gridPosVec2 = new Vec2(gridPosVec3.x, gridPosVec3.z)\r\n        return gridPosVec2\r\n    }\r\n\r\n    getAllPathLocations(from: Vec3, to: Vec3) {\r\n        const subGridFrom = this.realPosToSubGridPos(from)\r\n        const subGridTo = this.realPosToSubGridPos(to)\r\n        const subGridPath = this._getAllPathfindLocations(subGridFrom, subGridTo)\r\n\r\n        const realPath: PathfinderFieldData[] = subGridPath.map(subGridField => {\r\n            return {\r\n                subGridPos: this.subGridPosToRealPos(subGridField.position),\r\n                shape: subGridField.shape,\r\n                realPos: this.gridPosToRealPos(this.subGridPosToGridPos(subGridField.position)),\r\n            }\r\n        })\r\n        return realPath\r\n    }\r\n\r\n    private subGridPosToRealPos(v: Vec2) {\r\n        const realPosVec2 = v.map(v => v * this.subGridSize + this.subGridSize / 2)\r\n        const gridPosVec3 = new Vec3(realPosVec2.x, 0, realPosVec2.y)\r\n        return gridPosVec3\r\n    }\r\n\r\n    private _getAllPathfindLocations(subGridFrom: Vec2, subGridTo: Vec2) {\r\n        this.open = []\r\n        this.closed = []\r\n\r\n        const startField = new PathField(subGridFrom, true)\r\n        this.open.push(startField)\r\n\r\n        const { walkable, shape } = this.subFieldPosData(subGridTo)\r\n        const endField = new PathField(subGridTo, walkable, shape)\r\n        if (!endField.walkable) {\r\n            return []\r\n        }\r\n\r\n        while (true) {\r\n            if (this.open.length == 0) {\r\n                return []\r\n            }\r\n            const current = this.leastFCostField()\r\n            if (current.position.equals(endField.position)) {\r\n                if (startField.position.equals(endField.position)) {\r\n                    return []\r\n                } else {\r\n                    return this.getPathUsingParents(current)\r\n                }\r\n            } else {\r\n                const validNeighbours = this.getValidNeighbours(current)\r\n                for (let neighbour of validNeighbours) {\r\n                    this.calculateCost(neighbour, current, endField)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private leastFCostField() {\r\n        const current = this.open.reduce((acc, loc) => acc.fCost < loc.fCost ? acc : loc)\r\n        this.open = this.open.filter(field => field != current)\r\n        this.closed.push(current)\r\n        return current\r\n    }\r\n\r\n    private calculateCost(neighbour: PathField, current: PathField, endField: PathField) {\r\n        if (!this.open.includes(neighbour) || neighbour.gCostWithParent(current) < neighbour.gCost) {\r\n            neighbour.parent = current\r\n            const hDiff = endField.position.substract(neighbour.position).abs\r\n            neighbour.hCost = (hDiff.x + hDiff.y) * 10\r\n            if (this.open.every(f => !f.position.equals(neighbour.position))) {\r\n                this.open.push(neighbour)\r\n            }\r\n        }\r\n    }\r\n\r\n    private getValidNeighbours(field: PathField) {\r\n        const neighbourDiffs = [\r\n            new Vec2(-1, -1),\r\n            new Vec2(-1, 0),\r\n            new Vec2(-1, 1),\r\n            new Vec2(0, -1),\r\n            new Vec2(0, 1),\r\n            new Vec2(1, -1),\r\n            new Vec2(1, 0),\r\n            new Vec2(1, 1),\r\n        ]\r\n        const neighbours = neighbourDiffs.map(diff => {\r\n            const neighbourPos = field.position.add(diff)\r\n            const subFieldAlreadyCreated = this.allSubFieldsCreated.find(field => field.position.equals(neighbourPos))\r\n            if (subFieldAlreadyCreated) {\r\n                return subFieldAlreadyCreated\r\n            } else {\r\n                let { walkable, shape } = this.subFieldPosData(neighbourPos)\r\n                if (diff.x && diff.y && walkable) {\r\n                    const possibleCorners = [\r\n                        new Vec2(neighbourPos.x, field.position.y),\r\n                        new Vec2(field.position.x, neighbourPos.y),\r\n                    ]\r\n                    const allWalkable = possibleCorners.every(corner => {\r\n                        const { walkable, shape } = this.subFieldPosData(corner)\r\n                        return walkable\r\n                    })\r\n                    if (!allWalkable) {\r\n                        walkable = false\r\n                    }\r\n                }\r\n                const subField = new PathField(neighbourPos, walkable, shape)\r\n                this.allSubFieldsCreated.push(subField)\r\n                return subField\r\n            }\r\n        })\r\n        const validNeighbours = neighbours\r\n            .filter(f => f.walkable && !this.closed.includes(f))\r\n        // .filter(f => {\r\n        //     const diff = f.position.substract(field.position)\r\n        //     if (diff.x && diff.y) {\r\n        //         const possibleCorners = [\r\n        //             new Vec2(f.position.x, field.position.y),\r\n        //             new Vec2(field.position.x, f.position.y),\r\n        //         ]\r\n        //         return possibleCorners.every(pos => this.isSubFieldPosWalkable(pos))\r\n        //     }\r\n        // })\r\n        return validNeighbours\r\n    }\r\n\r\n    private getPathUsingParents(end: PathField) {\r\n        let path = []\r\n        path.push(end)\r\n        while (end.parent) {\r\n            end = end.parent\r\n            path.push(end)\r\n        }\r\n        path.reverse()\r\n        path.shift()\r\n        return path\r\n    }\r\n}\r\n\r\nclass PathField {\r\n    position: Vec2\r\n    walkable: boolean\r\n    shape: string\r\n\r\n    parent: PathField\r\n    hCost: number\r\n\r\n    get gCost(): number {\r\n        if (this.parent) {\r\n            return this.gCostWithParent(this.parent)\r\n        } else {\r\n            return 0\r\n        }\r\n    }\r\n\r\n    gCostWithParent(parent: PathField) {\r\n        const diff = parent.position.substract(this.position)\r\n        if (diff.x && diff.y) {\r\n            return parent.gCost + 14\r\n        } else {\r\n            return parent.gCost + 10\r\n        }\r\n    }\r\n\r\n    get fCost() {\r\n        return this.gCost + this.hCost\r\n    }\r\n\r\n    constructor(position: Vec2, walkable: boolean, shape?: string) {\r\n        this.position = position\r\n        this.walkable = walkable\r\n        this.shape = shape\r\n    }\r\n}","import Config from \"./Config\"\r\nimport Shape from \"./shapes/level/Shape\"\r\nimport { Vec3 } from \"./utils\"\r\n\r\nexport default class Raycaster {\r\n    from: Vec3\r\n    dir: Vec3\r\n    private squareGenerator: Generator<Vec3, void, unknown>\r\n\r\n    private constructor(from: Vec3, dir: Vec3) {\r\n        this.from = from.clone()\r\n        this.dir = dir.clone()\r\n        this.squareGenerator = this.nextSquareGenerator()\r\n    }\r\n\r\n    static fromDir(from: Vec3, dir: Vec3) {\r\n        return new Raycaster(from, dir)\r\n    }\r\n\r\n    static fromTo(from: Vec3, to: Vec3) {\r\n        const dir = to.substract(from).yZeroed.normalize\r\n        return new Raycaster(from, dir)\r\n    }\r\n\r\n    private nextSquare() {\r\n        return this.squareGenerator.next().value\r\n    }\r\n\r\n    nextShape(shapes: Shape[]) {\r\n        let nextSquare = this.nextSquare()\r\n        const limit = 100\r\n        for (let i = 0; i < limit * 2; i++) {\r\n            if (nextSquare) {\r\n                for (let shape of shapes) {\r\n                    if (shape.transform.position.yZeroed.equals(nextSquare.yZeroed)) {\r\n                        return shape\r\n                    }\r\n                }\r\n                nextSquare = this.nextSquare()\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    private * nextSquareGenerator() {\r\n        let startClone = this.from.clone()\r\n        let dirClone = this.dir.clone()\r\n        const gridSize = Config.gridSize\r\n        const firstTileCenter = startClone.map(v => Math.floor(v / gridSize) * gridSize + gridSize / 2).yZeroed\r\n        yield firstTileCenter\r\n        let firstYield = true\r\n        while (true) {\r\n            const [nextTileCenter, nextIntersection] = this.nextSquareInner(startClone, dirClone)\r\n            if (firstYield) {\r\n                firstYield = false\r\n            }\r\n            yield nextTileCenter\r\n            startClone = nextIntersection\r\n        }\r\n    }\r\n\r\n    private nextSquareInner(start: Vec3, dir: Vec3) {\r\n        const gridSize = Config.gridSize\r\n        if (dir.x >= 0) {\r\n            start.x += gridSize * 0.0001\r\n        } else {\r\n            start.x -= gridSize * 0.0001\r\n        }\r\n        if (dir.z >= 0) {\r\n            start.z += gridSize * 0.0001\r\n        } else {\r\n            start.z -= gridSize * 0.0001\r\n        }\r\n        const firstTileCenter = start.map(v => Math.floor(v / gridSize) * gridSize + gridSize / 2).yZeroed\r\n        let nextIntersectingAxes = Vec3.zero\r\n        if (start.x * dir.x > 0) {\r\n            nextIntersectingAxes.x = Math.ceil(start.x / gridSize) * gridSize\r\n        } else {\r\n            nextIntersectingAxes.x = Math.floor(start.x / gridSize) * gridSize\r\n        }\r\n        if (start.z * dir.z > 0) {\r\n            nextIntersectingAxes.z = Math.ceil(start.z / gridSize) * gridSize\r\n        } else {\r\n            nextIntersectingAxes.z = Math.floor(start.z / gridSize) * gridSize\r\n        }\r\n        const diff = start.substract(nextIntersectingAxes).abs\r\n        const diffRatio = Math.abs(diff.z / diff.x)\r\n        const dirRatio = Math.abs(dir.z / dir.x)\r\n        let nextSquareInDirection, nextIntersection\r\n        if (diffRatio > dirRatio) {\r\n            nextSquareInDirection = new Vec3(1, 0, 0)\r\n            nextIntersection = new Vec3(\r\n                nextIntersectingAxes.x,\r\n                0,\r\n                start.z + (dir.z / dir.x) * (nextIntersectingAxes.x - start.x),\r\n            )\r\n        } else {\r\n            if (diffRatio < dirRatio) {\r\n                nextSquareInDirection = new Vec3(0, 0, 1)\r\n            } else {\r\n                nextSquareInDirection = new Vec3(1, 0, 1)\r\n            }\r\n            nextIntersection = new Vec3(\r\n                start.x + (dir.x / dir.z) * (nextIntersectingAxes.z - start.z),\r\n                0,\r\n                nextIntersectingAxes.z,\r\n            )\r\n        }\r\n        const nextSquare = new Vec3(\r\n            dir.x > 0 ? nextSquareInDirection.x : -nextSquareInDirection.x,\r\n            0,\r\n            dir.z > 0 ? nextSquareInDirection.z : -nextSquareInDirection.z,\r\n        )\r\n        const nextTileCenter = firstTileCenter.add(nextSquare.multiply(gridSize))\r\n        return [nextTileCenter, nextIntersection]\r\n    }\r\n}","import Shape from \"./shapes/level/Shape\"\r\n\r\nexport default class Textures {\r\n    private readonly gl: WebGLRenderingContext\r\n\r\n    constructor(gl: WebGLRenderingContext) {\r\n        this.gl = gl\r\n    }\r\n\r\n    load(shapes: Shape[], callback?: () => void) {\r\n        let alreadyCreatedTextures: Map<string, WebGLTexture> = new Map()\r\n        const textures = [...new Set(shapes.map(shape => shape.importedTexture))]\r\n        this.loadHtmlImages(textures, textureToHtmlImageMap => {\r\n            for (let shape of shapes) {\r\n                if (!alreadyCreatedTextures.has(shape.importedTexture)) {\r\n                    const webglTexture = this.gl.createTexture()\r\n                    this.gl.bindTexture(this.gl.TEXTURE_2D, webglTexture)\r\n                    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST)\r\n                    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST_MIPMAP_LINEAR)\r\n                    // this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST)\r\n                    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE)\r\n                    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE)\r\n                    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, textureToHtmlImageMap.get(shape.importedTexture))\r\n                    this.gl.generateMipmap(this.gl.TEXTURE_2D)\r\n                    alreadyCreatedTextures.set(shape.importedTexture, webglTexture)\r\n                }\r\n                shape.webglTexture = alreadyCreatedTextures.get(shape.importedTexture)\r\n            }\r\n            callback?.()\r\n        })\r\n    }\r\n\r\n    private loadHtmlImages(importedTextures: string[], callback: (map: Map<string, HTMLImageElement>) => void) {\r\n        let htmlImages: HTMLImageElement[] = []\r\n        let imagesToLoad = importedTextures.length\r\n\r\n        const onImageLoad = () => {\r\n            if (--imagesToLoad == 0) {\r\n                const map = new Map();\r\n                for (let i = 0; i < importedTextures.length; i++) {\r\n                    map.set(importedTextures[i], htmlImages[i]);\r\n                };\r\n                callback(map)\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < imagesToLoad; i++) {\r\n            const image = new Image()\r\n            image.src = importedTextures[i]\r\n            htmlImages.push(image)\r\n            image.onload = onImageLoad\r\n        }\r\n    }\r\n}","import { Program, ProgramInfo } from \"./Program\";\r\nimport vertexShaderSource from '../../shaders/color.vs';\r\nimport fragmentShaderSource from '../../shaders/color.fs';\r\n\r\nexport interface ColorProgramInfo extends ProgramInfo {\r\n    attributes: {\r\n        position: number,\r\n        color: number,\r\n    },\r\n    uniforms: {\r\n        matrix: WebGLUniformLocation\r\n    },\r\n}\r\n\r\nexport class ColorProgram extends Program {\r\n    info: ColorProgramInfo = {\r\n        attributes: {\r\n            position: this.attribute(\"a_position\"),\r\n            color: this.attribute(\"a_color\"),\r\n        },\r\n        uniforms: {\r\n            matrix: this.uniform(\"u_matrix\")\r\n        },\r\n    }\r\n\r\n    constructor(gl: WebGLRenderingContext) {\r\n        super(gl, vertexShaderSource, fragmentShaderSource,)\r\n    }\r\n}","export interface ProgramInfo {\r\n    attributes: {\r\n        position: number,\r\n        color?: number,\r\n        texcoord?: number,\r\n    },\r\n    uniforms: {\r\n        matrix: WebGLUniformLocation\r\n    },\r\n}\r\n\r\nexport abstract class Program {\r\n    info: ProgramInfo\r\n    private readonly program: WebGLProgram\r\n    protected readonly gl: WebGLRenderingContext\r\n\r\n    constructor(\r\n        gl: WebGLRenderingContext,\r\n        vertexShaderSource: string,\r\n        fragmentShaderSource: string\r\n    ) {\r\n        this.gl = gl\r\n\r\n        const vertexShader = this.createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\r\n        const fragmentShader = this.createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\r\n\r\n        this.program = this.createProgram(gl, vertexShader, fragmentShader);\r\n    }\r\n\r\n    use() {\r\n        this.gl.useProgram(this.program);\r\n    }\r\n\r\n    attribute(name: string) {\r\n        return this.gl.getAttribLocation(this.program, name);\r\n    }\r\n\r\n    uniform(name: string) {\r\n        return this.gl.getUniformLocation(this.program, name);\r\n    }\r\n\r\n    private createShader(gl: WebGLRenderingContext, type: number, source: string) {\r\n        const shader = gl.createShader(type);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n        const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (success) {\r\n            return shader;\r\n        }\r\n\r\n        gl.deleteShader(shader);\r\n    }\r\n\r\n    private createProgram(gl: WebGLRenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader) {\r\n        const program = gl.createProgram();\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n        const success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (success) {\r\n            return program;\r\n        }\r\n\r\n        gl.deleteProgram(program);\r\n    }\r\n}","import { Program, ProgramInfo } from \"./Program\";\r\nimport vertexShaderSource from '../../shaders/texture.vs';\r\nimport fragmentShaderSource from '../../shaders/texture.fs';\r\n\r\nexport interface TextureProgramInfo extends ProgramInfo {\r\n    attributes: {\r\n        position: number,\r\n        texcoord: number,\r\n    },\r\n    uniforms: {\r\n        matrix: WebGLUniformLocation\r\n    },\r\n}\r\n\r\nexport class TextureProgram extends Program {\r\n    info: TextureProgramInfo = {\r\n        attributes: {\r\n            position: this.attribute(\"a_position\"),\r\n            texcoord: this.attribute(\"a_texcoord\"),\r\n        },\r\n        uniforms: {\r\n            matrix: this.uniform(\"u_matrix\")\r\n        },\r\n    }\r\n\r\n    constructor(gl: WebGLRenderingContext) {\r\n        super(gl, vertexShaderSource, fragmentShaderSource,)\r\n    }\r\n\r\n    loadTexture(src: string, callback: () => void) {\r\n        // Create a texture.\r\n        const texture = this.gl.createTexture();\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n\r\n        // Fill the texture with a 1x1 blue pixel.\r\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE,\r\n            new Uint8Array([0, 0, 255, 255]));\r\n\r\n        // Asynchronously load an image\r\n        var image = new Image();\r\n        image.src = src\r\n        image.addEventListener('load', () => {\r\n            // Now that the image has loaded make copy it to the texture.\r\n            // this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n            // this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, image);\r\n            // this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR);\r\n            // this.gl.generateMipmap(this.gl.TEXTURE_2D);\r\n\r\n            callback()\r\n        });\r\n    }\r\n}","import Shape from './Shape'\r\nimport { CuboidBoundingBox } from './CuboidBoundingBox'\r\nimport { Vec2 } from '../../utils'\r\n\r\nexport default abstract class Cuboid extends Shape {\r\n    VERTICES = new Float32Array([\r\n        // front    \r\n        -0.5, -0.5, 0.5,\r\n        0.5, 0.5, 0.5,\r\n        -0.5, 0.5, 0.5,\r\n        -0.5, -0.5, 0.5,\r\n        0.5, -0.5, 0.5,\r\n        0.5, 0.5, 0.5,\r\n\r\n        // back    \r\n        -0.5, -0.5, -0.5,\r\n        -0.5, 0.5, -0.5,\r\n        0.5, 0.5, -0.5,\r\n        -0.5, -0.5, -0.5,\r\n        0.5, 0.5, -0.5,\r\n        0.5, -0.5, -0.5,\r\n\r\n        // left    \r\n        -0.5, -0.5, -0.5,\r\n        -0.5, -0.5, 0.5,\r\n        -0.5, 0.5, 0.5,\r\n        -0.5, -0.5, -0.5,\r\n        -0.5, 0.5, 0.5,\r\n        -0.5, 0.5, -0.5,\r\n\r\n        // right    \r\n        0.5, -0.5, -0.5,\r\n        0.5, 0.5, 0.5,\r\n        0.5, -0.5, 0.5,\r\n        0.5, -0.5, -0.5,\r\n        0.5, 0.5, -0.5,\r\n        0.5, 0.5, 0.5,\r\n\r\n        // top    \r\n        -0.5, 0.5, -0.5,\r\n        0.5, 0.5, 0.5,\r\n        0.5, 0.5, -0.5,\r\n        -0.5, 0.5, 0.5,\r\n        0.5, 0.5, 0.5,\r\n        -0.5, 0.5, -0.5,\r\n\r\n        // bottom    \r\n        0.5, -0.5, -0.5,\r\n        0.5, -0.5, 0.5,\r\n        -0.5, -0.5, -0.5,\r\n        -0.5, -0.5, -0.5,\r\n        0.5, -0.5, 0.5,\r\n        -0.5, -0.5, 0.5,\r\n    ])\r\n\r\n    COLORS = new Uint8Array([\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n\r\n        70, 200, 20.50,\r\n        70, 200, 20.50,\r\n        70, 200, 20.50,\r\n        70, 200, 20.50,\r\n        70, 200, 20.50,\r\n        70, 200, 20.50,\r\n\r\n        200, 200, 70,\r\n        200, 200, 70,\r\n        200, 200, 70,\r\n        200, 200, 70,\r\n        200, 200, 70,\r\n        200, 200, 70,\r\n\r\n        20.50, 0.500, 70,\r\n        20.50, 0.500, 70,\r\n        20.50, 0.500, 70,\r\n        20.50, 0.500, 70,\r\n        20.50, 0.500, 70,\r\n        20.50, 0.500, 70,\r\n\r\n        20.50, 0.560, 70,\r\n        20.50, 0.560, 70,\r\n        20.50, 0.560, 70,\r\n        20.50, 0.560, 70,\r\n        20.50, 0.560, 70,\r\n        20.50, 0.560, 70,\r\n    ])\r\n\r\n    TEXCOORDS = new Float32Array([\r\n        // front\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n\r\n        // back\r\n        1, 1,\r\n        1, 0,\r\n        0, 0,\r\n        1, 1,\r\n        0, 0,\r\n        0, 1,\r\n\r\n        // left\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n\r\n        // right\r\n        1, 1,\r\n        0, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n        0, 0,\r\n\r\n\r\n        // top\r\n        0, 0,\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n        0, 0,\r\n\r\n        // bottom\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n    ])\r\n\r\n    readonly bb: CuboidBoundingBox = new CuboidBoundingBox(this)\r\n    readonly defaultColors = this.COLORS\r\n\r\n    abstract lightTexture: number\r\n    abstract darkTexture: number\r\n\r\n    onCreation() {\r\n        this.setTexture(0)\r\n    }\r\n\r\n    setColor(wall: number, color: number[]) {\r\n        this.COLORS = new Uint8Array([\r\n            ...this.COLORS.slice(0, 3 * 6 * wall),\r\n            color[0], color[1], color[2],\r\n            color[0], color[1], color[2],\r\n            color[0], color[1], color[2],\r\n            color[0], color[1], color[2],\r\n            color[0], color[1], color[2],\r\n            color[0], color[1], color[2],\r\n            ...this.COLORS.slice(3 * 6 * (wall + 1))])\r\n    }\r\n\r\n    wallTexcoords(wall: number) {\r\n        return this.TEXCOORDS.slice(2 * 6 * wall, 2 * 6 * (wall + 1))\r\n    }\r\n\r\n    initialWallTexcoords(wall: number) {\r\n        return this.initialTexcoords.slice(2 * 6 * wall, 2 * 6 * (wall + 1))\r\n    }\r\n\r\n    resetColor() {\r\n        this.COLORS = this.defaultColors\r\n    }\r\n\r\n    texturesInLine = 1\r\n    get textureSize() {\r\n        return 1 / this.texturesInLine\r\n    }\r\n\r\n    setTexture(textureNumber: number, wallNumber?: number) {\r\n        let newTexcoords = []\r\n        if (wallNumber !== undefined) {\r\n            for (let i = 0; i < 6; i++) {\r\n                if (i == wallNumber) {\r\n                    newTexcoords.push(...this.setTexcoordsToTexture(textureNumber, this.initialWallTexcoords(wallNumber)))\r\n                } else {\r\n                    newTexcoords.push(...this.wallTexcoords(i))\r\n                }\r\n            }\r\n        } else {\r\n            newTexcoords = [...this.setTexcoordsToTexture(textureNumber, this.initialTexcoords)]\r\n        }\r\n        this.TEXCOORDS = new Float32Array(newTexcoords)\r\n    }\r\n\r\n    private setTexcoordsToTexture(textureNumber: number, texcoords: Float32Array) {\r\n        let verticesVec2Array = Vec2.arrayToVec2Array(texcoords)\r\n        const texturePos = new Vec2(textureNumber % this.texturesInLine, Math.floor(textureNumber / this.texturesInLine)).multiply(this.textureSize)\r\n        verticesVec2Array = verticesVec2Array.map(vertex => vertex.multiply(this.textureSize).add(texturePos))\r\n        return Vec2.vec2ArrayToArray(verticesVec2Array)\r\n    }\r\n}","import Shape from \"./Shape\";\r\nimport { log, m4, Transform, Vec3 } from \"../../utils\";\r\n\r\nexport class CuboidBoundingBox {\r\n    readonly shape: Shape\r\n    readonly transform: Transform\r\n\r\n    constructor(shape: Shape) {\r\n        this.shape = shape\r\n        this.transform = shape.transform\r\n    }\r\n\r\n    get vertices() {\r\n        return this.shape.verticesTransformed\r\n    }\r\n\r\n    get size() {\r\n        return this.shape.size\r\n    }\r\n\r\n    get sizeRotated() {\r\n        return this.shape.sizeRotated\r\n    }\r\n\r\n    get halfSize() {\r\n        return this.shape.halfSize\r\n    }\r\n\r\n    get halfSizeRotated() {\r\n        return this.shape.halfSizeRotated\r\n    }\r\n\r\n    get negativeCorner() {\r\n        return this.transform.position.substract(this.halfSize)\r\n    }\r\n\r\n    get negativeCornerRotated() {\r\n        return this.transform.position.substract(this.halfSizeRotated)\r\n    }\r\n\r\n    get positiveCorner() {\r\n        return this.transform.position.add(this.halfSize)\r\n    }\r\n\r\n    get positiveCornerRotated() {\r\n        return this.transform.position.add(this.halfSizeRotated)\r\n    }\r\n\r\n    isColliding(v: Vec3) {\r\n        const pos = this.positiveCornerRotated\r\n        const neg = this.negativeCornerRotated\r\n        return neg.x <= v.x && v.x <= pos.x && neg.z <= v.z && v.z <= pos.z\r\n    }\r\n\r\n    pointSide(v: Vec3) {\r\n        const diff = this.transform.position.substract(v)\r\n        // const rotationMatrix = m4.yRotation(this.transform.rotation.y)\r\n        // const diffRotated = diff.transformMat4(rotationMatrix)\r\n        const diffRotated = diff\r\n\r\n        let pointSide = Vec3.zero\r\n        if (diffRotated.x > this.halfSizeRotated.x) {\r\n            pointSide.x = -1\r\n        }\r\n        if (diffRotated.x < -this.halfSizeRotated.x) {\r\n            pointSide.x = 1\r\n        }\r\n        if (diffRotated.z > this.halfSizeRotated.z) {\r\n            pointSide.z = -1\r\n        }\r\n        if (diffRotated.z < -this.halfSizeRotated.z) {\r\n            pointSide.z = 1\r\n        }\r\n        return pointSide\r\n    }\r\n\r\n    nearestDistanceDirection(v: Vec3) {\r\n        const side = this.pointSide(v)\r\n        if (side.x && side.z) {\r\n            return v.substract(this.nearestCorner(v)).yZeroed.normalize\r\n        } else {\r\n            return side\r\n        }\r\n    }\r\n\r\n    pointSideRotated(v: Vec3) {\r\n        const pointSide = this.pointSide(v)\r\n        const rotationMatrix = m4.yRotation(-this.transform.rotation.y)\r\n        return pointSide.transformMat4(rotationMatrix)\r\n    }\r\n    pointFarthestSideRotated(v: Vec3) {\r\n        const pointSide = this.pointFarthestSide(v)\r\n        const rotationMatrix = m4.yRotation(-this.transform.rotation.y)\r\n        return pointSide.transformMat4(rotationMatrix)\r\n    }\r\n\r\n    // only a non rotated cuboid\r\n    pointFarthestSide(v: Vec3) {\r\n        const diff = this.transform.position.substract(v)\r\n        const rotationMatrix = m4.yRotation(this.transform.rotation.y)\r\n        const diffRotated = diff.transformMat4(rotationMatrix)\r\n        let pointSide = this.pointSide(v)\r\n        if (pointSide.x && pointSide.z) {\r\n            if (Math.abs(diffRotated.x) > Math.abs(diffRotated.z)) {\r\n                pointSide.z = 0\r\n            } else {\r\n                pointSide.x = 0\r\n            }\r\n        }\r\n        return pointSide\r\n    }\r\n\r\n    // cuboid rotated by any value\r\n    nearestCorner(v: Vec3) {\r\n        const diff = this.transform.position.substract(v)\r\n        if (diff.x <= 0 && diff.z <= 0) {\r\n            return this.transform.position.substract(this.halfSizeRotated)\r\n        } else if (diff.x <= 0 && diff.z >= 0) {\r\n            const cornerRelative = new Vec3(-this.halfSizeRotated.x, 0, this.halfSizeRotated.z)\r\n            return this.transform.position.substract(cornerRelative)\r\n        } else if (diff.x >= 0 && diff.z <= 0) {\r\n            const cornerRelative = new Vec3(this.halfSizeRotated.x, 0, -this.halfSizeRotated.z)\r\n            return this.transform.position.substract(cornerRelative)\r\n        } else if (diff.x >= 0 && diff.z >= 0) {\r\n            return this.transform.position.add(this.halfSizeRotated)\r\n        }\r\n    }\r\n\r\n    basePointsYZeroed() {\r\n        const a = this.halfSizeRotated.yZeroed\r\n        return [\r\n            this.transform.position.add(a),\r\n            this.transform.position.add(a.xInverted),\r\n            this.transform.position.add(a.yInverted),\r\n            this.transform.position.substract(a),\r\n        ]\r\n    }\r\n}","import { log, m4, Vec3 } from '../../utils'\r\nimport Cuboid from './Cuboid'\r\nimport Interactable from './Interactable'\r\nimport texture from '../../../textures/wall.png'\r\nimport Config from '../../Config'\r\nimport { Program } from '../../programs/Program'\r\nimport Camera from '../../Camera'\r\nimport Enemy from './Enemy'\r\nimport openAudio from \"../../../sounds/WSND0003.wav\"\r\nimport closeAudio from \"../../../sounds/WSND0002.wav\"\r\nimport BetterAudio from '../../BetterAudio'\r\n\r\nexport default class Door extends Cuboid implements Interactable {\r\n    importedTexture = texture\r\n    openAudio = new BetterAudio(openAudio)\r\n    closeAudio = new BetterAudio(closeAudio)\r\n\r\n    get lightTexture() {\r\n        switch (this.type) {\r\n            case 'exitDoor': return 119\r\n            default: return 104\r\n        }\r\n    }\r\n    get lightSideTexture() {\r\n        switch (this.type) {\r\n            case 'exitDoor': return 119\r\n            default: return 108\r\n        }\r\n    }\r\n    get darkTexture() {\r\n        switch (this.type) {\r\n            case 'exitDoor': return 119\r\n            default: return 105\r\n        }\r\n    }\r\n    get darkSideTexture() {\r\n        switch (this.type) {\r\n            case 'exitDoor': return 119\r\n            default: return 109\r\n        }\r\n    }\r\n\r\n    private opening = false\r\n    private closing = false\r\n\r\n    private readonly openingSpeed = Config.gridSize\r\n    private readonly openingLength = Config.gridSize\r\n\r\n    private readonly hiddenInWallScaleCorrection = new Vec3(0.1, 0.1, 0)\r\n    // private readonly hiddenInWallScaleCorrection = new Vec3(10, 10, 0)\r\n\r\n    private positionFinal: Vec3\r\n\r\n    texturesInLine = 16\r\n\r\n    TEXCOORDS = new Float32Array([\r\n        // front\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n\r\n        // back\r\n        0, 1,\r\n        0, 0,\r\n        1, 0,\r\n        0, 1,\r\n        1, 0,\r\n        1, 1,\r\n\r\n        // left\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n\r\n        // right\r\n        1, 1,\r\n        0, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n        0, 0,\r\n\r\n\r\n        // top\r\n        0, 0,\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n        0, 0,\r\n\r\n        // bottom\r\n        1, 1,\r\n        1, 0,\r\n        0, 1,\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n    ])\r\n    type: string\r\n    constructor(gl: WebGLRenderingContext, program: Program, type?: string) {\r\n        super(gl, program)\r\n        this.transform.scale = new Vec3(Config.gridSize, Config.gridSize, Config.gridSize * 6 / 64)\r\n        this.type = type\r\n    }\r\n\r\n    onCreation() {\r\n        const translationFinal = new Vec3(this.openingLength, 0, 0)\r\n        let mFinal = m4.identity\r\n        mFinal = m4.translate(mFinal, translationFinal)\r\n        mFinal = m4.yRotate(mFinal, this.transform.rotation.y)\r\n        const positionDeltaFinal = m4.getPositionVector(mFinal)\r\n        this.positionFinal = this.initialTransform.position.add(positionDeltaFinal)\r\n        if (this.transform.rotation.y) {\r\n            this.setTexture(this.darkTexture)\r\n            this.setTexture(this.lightSideTexture, 2)\r\n            this.setTexture(this.lightSideTexture, 3)\r\n        } else {\r\n            this.setTexture(this.lightTexture)\r\n            this.setTexture(this.darkSideTexture, 2)\r\n            this.setTexture(this.darkSideTexture, 3)\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        const translation = new Vec3(this.openingSpeed * deltaTime, 0, 0)\r\n        let m = m4.identity\r\n        m = m4.translate(m, translation)\r\n        m = m4.yRotate(m, this.transform.rotation.y)\r\n        const positionDelta = m4.getPositionVector(m)\r\n\r\n        if (this.opening) {\r\n            if (this.transform.position.equals(this.positionFinal)) {\r\n                this.opening = false\r\n                if (this.initialTransform.scale.equals(this.transform.scale)) {\r\n                    this.transform.scale = this.transform.scale.substract(this.hiddenInWallScaleCorrection)\r\n                }\r\n            } else {\r\n                if (this.positionFinal.substract(this.transform.position).isLess(positionDelta)) {\r\n                    this.transform.position = this.positionFinal.clone()\r\n                } else {\r\n                    this.transform.position = this.transform.position.add(positionDelta)\r\n                }\r\n            }\r\n        } else if (this.closing) {\r\n            if (this.transform.position.equals(this.initialTransform.position)) {\r\n                this.closing = false\r\n            } else {\r\n                if (this.transform.position.substract(this.initialTransform.position).isLess(positionDelta)) {\r\n                    this.transform.position = this.initialTransform.position.clone()\r\n                } else {\r\n                    this.transform.position = this.transform.position.substract(positionDelta)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    get closed() {\r\n        return this.transform.position.equals(this.initialTransform.position)\r\n    }\r\n\r\n    get opened() {\r\n        return this.transform.position.equals(this.positionFinal)\r\n    }\r\n\r\n    toggle() {\r\n        if (this.closed) {\r\n            this.closing = false\r\n            this.opening = true\r\n            this.openAudio.play()\r\n        } else if (this.opened) {\r\n            if (this.transform.scale.add(this.hiddenInWallScaleCorrection).equals(this.initialTransform.scale)) {\r\n                this.transform.scale = this.transform.scale.add(this.hiddenInWallScaleCorrection)\r\n            }\r\n            this.opening = false\r\n            this.closing = true\r\n            this.closeAudio.play()\r\n        }\r\n    }\r\n\r\n    get canInteract() {\r\n        return this.closed\r\n    }\r\n\r\n    tryToClose(deltaTime: number, camera: Camera, enemies: Enemy[]) {\r\n        const nothingCollides = [camera, ...enemies].every(obj => obj.transform.position.yZeroed.distanceTo(this.initialTransform.position.yZeroed) > Config.gridSize * 2)\r\n        if (nothingCollides && this.opened) {\r\n            this.toggle()\r\n        }\r\n    }\r\n}","import FieldData from '../../../../common/FieldData'\r\nimport texture from '../../../textures/guard.png'\r\nimport BetterAudio from '../../BetterAudio'\r\nimport Camera from '../../Camera'\r\nimport Config from '../../Config'\r\nimport Pathfinder from '../../Pathfinder'\r\nimport { PathfinderFieldData } from '../../Pathfinder'\r\nimport { Program } from '../../programs/Program'\r\nimport Raycaster from '../../Raycaster'\r\nimport { degToRad, log, radToDeg, Vec2, Vec3 } from '../../utils'\r\nimport UI from '../ui/UI'\r\nimport Door from './Door'\r\nimport Ammo from './pickups/Ammo'\r\nimport Flag from './pickups/Flag'\r\nimport Plane from './Plane'\r\nimport Shape from './Shape'\r\nimport audioShot from \"../../../sounds/WSND0021.wav\"\r\n\r\nimport audioDie1 from \"../../../sounds/WSND0012.wav\"\r\nimport audioDie2 from \"../../../sounds/WSND0013.wav\"\r\nimport audioDie4 from \"../../../sounds/WSND0034.wav\"\r\nimport audioDie5 from \"../../../sounds/WSND0035.wav\"\r\nimport audioDie6 from \"../../../sounds/WSND0039.wav\"\r\nimport audioDie7 from \"../../../sounds/WSND0040.wav\"\r\nimport audioDie8 from \"../../../sounds/WSND0041.wav\"\r\nimport audioDie9 from \"../../../sounds/WSND0042.wav\"\r\nimport audioSight from \"../../../sounds/WSND0000.wav\"\r\n\r\nexport default class Enemy extends Plane {\r\n    loot: Ammo\r\n    tempFlag: Flag\r\n    pathfinderFields: PathfinderFieldData[] = []\r\n    score = 100\r\n    followingPlayer: Camera\r\n    importedTexture = texture\r\n    texturedWidth = 28 / 64\r\n\r\n    private textureRotation = 0\r\n    private texturesInLine = 8\r\n    private textureNumber: number\r\n    private readonly stateToTextureMap = new Map([\r\n        ['shooting', [48, 49, 50]],\r\n        ['standing', [0]],\r\n        ['walking', [8, 16, 24, 32]],\r\n        ['dying', [40, 41, 42, 43, 44]],\r\n        ['hit', [47, 0]],\r\n        ['dead', [44]],\r\n    ])\r\n\r\n    shotNoticeDistance = Config.gridSize * 10\r\n    private dir = Vec3.zero\r\n    private shootingDistance = Config.gridSize * 5\r\n    private damageDealed = 8\r\n    private walkingDirection = Vec3.zero\r\n    state = 'standing'\r\n    private timeSinceLastUpdate = 0\r\n    private hp = 100\r\n    private followingSpeed = Config.gridSize * 1.25\r\n    private nextDir: Vec3 = null\r\n    private timeSinceLastPathfinding = 0\r\n    private readonly initialState\r\n    private readonly pathfindingDelay = 0.5\r\n    private readonly frameTime = 0.2\r\n    readonly audioSight = new BetterAudio(audioSight)\r\n    private readonly audiosDie = [\r\n        new BetterAudio(audioDie1),\r\n        new BetterAudio(audioDie2),\r\n        new BetterAudio(audioDie4),\r\n        new BetterAudio(audioDie5),\r\n        new BetterAudio(audioDie6),\r\n        new BetterAudio(audioDie7),\r\n        new BetterAudio(audioDie8),\r\n        new BetterAudio(audioDie9),\r\n    ]\r\n    private readonly audioShot = new BetterAudio(audioShot)\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program, type?: string) {\r\n        super(gl, program)\r\n        this.loot = new Ammo(this.gl, program)\r\n        this.tempFlag = new Flag(this.gl, program)\r\n        this.tempFlag.setInitialState()\r\n        this.transform.rotation.x = degToRad(90)\r\n        if (type == \"x\") {\r\n            this.walkingDirection = Vec3.right\r\n            this.state = \"walking\"\r\n            this.dir = this.walkingDirection\r\n        } else if (type == \"z\") {\r\n            this.walkingDirection = Vec3.forward\r\n            this.state = \"walking\"\r\n            this.dir = this.walkingDirection\r\n        } else if (type == \"up\") {\r\n            this.dir = Vec3.forward\r\n        } else if (type == \"down\") {\r\n            this.dir = Vec3.backward\r\n        } else if (type == \"left\") {\r\n            this.dir = Vec3.left\r\n        } else if (type == \"right\") {\r\n            this.dir = Vec3.right\r\n        }\r\n        this.initialState = this.state\r\n    }\r\n\r\n    get isDead() {\r\n        return this.hp <= 0\r\n    }\r\n\r\n    update(deltaTime: number, camera: Camera) {\r\n        if (UI.instance.state == 'end') {\r\n            this.followingPlayer = null\r\n        } else {\r\n            this.timeSinceLastUpdate += deltaTime\r\n            const frameTime = this.state == \"shooting\" ? 0.3 : this.frameTime\r\n            if (this.timeSinceLastUpdate > frameTime) {\r\n                this.timeSinceLastUpdate = 0\r\n                const textures = this.stateToTextureMap.get(this.state)\r\n                const index = textures.indexOf(this.textureNumber) + 1\r\n                if (index < textures.length) {\r\n                    this.setTexture(textures[index])\r\n                } else {\r\n                    this.textureNumber = 0\r\n                    if (this.state == 'dying') {\r\n                        this.state = 'dead'\r\n                        UI.instance.enemiesKilled++\r\n                    } else if (this.state == 'hit') {\r\n                        this.state = 'walking'\r\n                    } else {\r\n                        this.setTexture(textures[0])\r\n                    }\r\n                }\r\n                if (this.state == \"shooting\" && index == textures.length - 1) {\r\n                    if (UI.instance.health > 0) {\r\n                        UI.instance.health -= Math.floor(Math.random() * (this.damageDealed * 2 - this.damageDealed * 0.75)) + this.damageDealed * 0.75\r\n                        UI.instance.flashRed()\r\n                        this.audioShot.play()\r\n                        camera.audioHit.play()\r\n                        if (UI.instance.health <= 0) {\r\n                            UI.instance.health = 0\r\n                            camera.killer = this\r\n                        }\r\n                    }\r\n                }\r\n                if (this.followingPlayer && UI.instance.health == 0) {\r\n                    this.followingPlayer = null\r\n                    this.dir = this.transform.position.to(camera.transform.position)\r\n                    this.state = \"standing\"\r\n                }\r\n            }\r\n            this.updateBuffers()\r\n        }\r\n    }\r\n\r\n    damage(value: number) {\r\n        if (['dying', 'dead'].includes(this.state)) return\r\n        this.hp -= value\r\n        this.state = 'hit'\r\n        this.timeSinceLastUpdate = 0\r\n        if (this.hp <= 0) {\r\n            this.hp = 0\r\n            this.state = 'dying'\r\n            this.audiosDie[Math.floor(Math.random() * this.audiosDie.length)].play()\r\n        } else {\r\n            // this.audioPain.play()\r\n        }\r\n    }\r\n\r\n    lookAtCamera(cameraY: number) {\r\n        this.transform.rotation.y = -cameraY\r\n    }\r\n\r\n    pathfind(destination: Vec3) {\r\n\r\n    }\r\n\r\n    makeStepTowardsPlayer(deltaTime: number, doors: Door[]) {\r\n        this.timeSinceLastPathfinding += deltaTime\r\n        if (this.followingPlayer) {\r\n            if (this.timeSinceLastPathfinding >= this.pathfindingDelay) {\r\n                this.timeSinceLastPathfinding = 0\r\n                if (this.pathfinderFields.length <= 80) {\r\n                    this.pathfinderFields = Pathfinder.instance.getAllPathLocations(this.transform.position, this.followingPlayer.transform.position)\r\n                    this.pathfinderFields = this.pathfinderFields.map(v => {\r\n                        return {\r\n                            subGridPos: new Vec3(v.subGridPos.x, -30, v.subGridPos.z),\r\n                            shape: v.shape,\r\n                            realPos: v.realPos,\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.state = \"standing\"\r\n                    this.followingPlayer = null\r\n                    this.pathfinderFields = []\r\n                }\r\n            }\r\n            if (this.pathfinderFields.length <= 1) return\r\n            this.dir = this.pathfinderFields[1].subGridPos.substract(this.transform.position).yZeroed.normalize\r\n            for (let i = 1; i < 3; i++) {\r\n                const futureField = this.pathfinderFields[i]\r\n                if (futureField && futureField.shape == \"door\") {\r\n                    const door = doors.find(d => d.initialTransform.position.yZeroed.equals(futureField.realPos.yZeroed))\r\n                    if (door) {\r\n                        if (door.canInteract) {\r\n                            door.toggle()\r\n                        }\r\n                    }\r\n                    break\r\n                }\r\n            }\r\n            this.transform.position = this.transform.position.add(this.dir.multiply(this.followingSpeed * deltaTime))\r\n            // this.followingPlayer = null\r\n        }\r\n    }\r\n\r\n    makeStepIfWalking(deltaTime: number, shapes: Shape[]) {\r\n        if (!this.followingPlayer && this.initialState == \"walking\" && this.state == \"walking\") {\r\n            const raycaster = Raycaster.fromDir(this.transform.position, this.dir)\r\n            const nextShape = raycaster.nextShape(shapes)\r\n            if (nextShape) {\r\n                const distance = this.transform.position.distanceTo(nextShape.transform.position)\r\n                if (distance <= Config.gridSize && !this.nextDir) {\r\n                    this.nextDir = this.dir.inverted\r\n                    this.state = \"standing\"\r\n                    setTimeout(() => {\r\n                        this.dir = this.nextDir\r\n                        setTimeout(() => {\r\n                            this.state = \"walking\"\r\n                            this.nextDir = null\r\n                        }, 500)\r\n                    }, 1000)\r\n                }\r\n                this.transform.position = this.transform.position.add(this.dir.multiply(this.followingSpeed * deltaTime))\r\n            }\r\n        }\r\n    }\r\n\r\n    rotateTexture(targetPosition: Vec3) {\r\n        let toTargetDir = targetPosition.substract(this.transform.position).yZeroed.normalize\r\n        let toTargetAngle = Math.atan2(toTargetDir.z, toTargetDir.x)\r\n        let walkingAngle = Math.atan2(this.dir.z, this.dir.x)\r\n        let angleDiff = radToDeg(walkingAngle - toTargetAngle)\r\n        if (angleDiff > 180) angleDiff -= 360\r\n        if (angleDiff < -180) angleDiff += 360\r\n        const correctedDiff = angleDiff > 0 ? angleDiff + 22.5 : angleDiff - 22.5\r\n        this.textureRotation = parseInt((correctedDiff / 45).toString())\r\n        return angleDiff\r\n    }\r\n\r\n    canSee(target: Vec3, shapes: Shape[]) {\r\n        const raycaster = Raycaster.fromTo(this.transform.position, target.yZeroed)\r\n        const nextShape = raycaster.nextShape(shapes)\r\n        if (!nextShape) return false\r\n        return nextShape.transform.position.yZeroed.distanceTo(this.transform.position.yZeroed) > this.transform.position.yZeroed.distanceTo(target.yZeroed)\r\n    }\r\n\r\n    tryToShoot(camera: Camera, shapes: Shape[]) {\r\n        if (this.state == 'dead' || this.state == \"dying\" || this.state == \"hit\" || !this.followingPlayer) return false\r\n        if (UI.instance.health > 0) {\r\n            if (\r\n                this.transform.position.distanceTo(camera.transform.position) <= this.shootingDistance\r\n                && this.canSee(camera.transform.position, shapes)\r\n            ) {\r\n                this.state = \"shooting\"\r\n                return true\r\n            } else {\r\n                this.state = \"walking\"\r\n                return false\r\n            }\r\n            // this.state = 'walking'\r\n        } else {\r\n            this.state = 'standing'\r\n            this.followingPlayer = null\r\n        }\r\n        return false\r\n    }\r\n\r\n    private get textureSize() {\r\n        return 1 / this.texturesInLine\r\n    }\r\n\r\n    private setTexture(textureNumber: number) {\r\n        // if (textureNumber == this.textureNumber) {\r\n        //     console.log('olewam', textureNumber)\r\n        //     return\r\n\r\n        // }\r\n        this.textureNumber = textureNumber\r\n\r\n        if (this.state == 'walking' || this.state == 'standing') {\r\n            if (this.textureRotation >= 0) {\r\n                textureNumber += this.textureRotation\r\n            } else {\r\n                textureNumber += this.textureRotation + this.texturesInLine\r\n            }\r\n        }\r\n\r\n        let verticesVec2Array = Vec2.arrayToVec2Array(this.initialTexcoords)\r\n        const texturePos = new Vec2(textureNumber % this.texturesInLine, Math.floor(textureNumber / this.texturesInLine)).multiply(this.textureSize)\r\n        verticesVec2Array = verticesVec2Array.map(vertex => vertex.multiply(this.textureSize).add(texturePos))\r\n        this.TEXCOORDS = new Float32Array(Vec2.vec2ArrayToArray(verticesVec2Array))\r\n    }\r\n}","import { log, m4, Transform, Vec3 } from \"../../utils\";\r\n\r\nexport class GridBoundingBox {\r\n    center: Vec3\r\n    size: Vec3\r\n\r\n    constructor(center: Vec3, size: Vec3) {\r\n        this.center = center\r\n        this.size = size\r\n    }\r\n\r\n    get halfSize() {\r\n        return this.size.multiply(0.5)\r\n    }\r\n\r\n    get negativeCorner() {\r\n        return this.center.substract(this.halfSize)\r\n    }\r\n\r\n    get positiveCorner() {\r\n        return this.center.add(this.halfSize)\r\n    }\r\n\r\n    isColliding(v: Vec3) {\r\n        const pos = this.positiveCorner\r\n        const neg = this.negativeCorner\r\n        return neg.x <= v.x && v.x <= pos.x && neg.z <= v.z && v.z <= pos.z\r\n    }\r\n\r\n    pointSide(v: Vec3) {\r\n        const diff = this.center.substract(v)\r\n        const diffRotated = diff\r\n\r\n        let pointSide = Vec3.zero\r\n        if (diffRotated.x > this.halfSize.x) {\r\n            pointSide.x = -1\r\n        }\r\n        if (diffRotated.x < -this.halfSize.x) {\r\n            pointSide.x = 1\r\n        }\r\n        if (diffRotated.z > this.halfSize.z) {\r\n            pointSide.z = -1\r\n        }\r\n        if (diffRotated.z < -this.halfSize.z) {\r\n            pointSide.z = 1\r\n        }\r\n        return pointSide\r\n    }\r\n\r\n    nearestDistanceDirection(v: Vec3) {\r\n        const side = this.pointSide(v)\r\n        if (side.x && side.z) {\r\n            return v.substract(this.nearestCorner(v)).yZeroed.normalize\r\n        } else {\r\n            return side\r\n        }\r\n    }\r\n\r\n    // only a non rotated cuboid\r\n    pointFarthestSide(v: Vec3) {\r\n        const diff = this.center.substract(v)\r\n        let pointSide = this.pointSide(v)\r\n        if (pointSide.x && pointSide.z) {\r\n            if (Math.abs(diff.x) > Math.abs(diff.z)) {\r\n                pointSide.z = 0\r\n            } else {\r\n                pointSide.x = 0\r\n            }\r\n        }\r\n        return pointSide\r\n    }\r\n\r\n    // cuboid rotated by any value\r\n    nearestCorner(v: Vec3) {\r\n        const diff = this.center.substract(v)\r\n        if (diff.x <= 0 && diff.z <= 0) {\r\n            return this.center.substract(this.halfSize)\r\n        } else if (diff.x <= 0 && diff.z >= 0) {\r\n            const cornerRelative = new Vec3(-this.halfSize.x, 0, this.halfSize.z)\r\n            return this.center.substract(cornerRelative)\r\n        } else if (diff.x >= 0 && diff.z <= 0) {\r\n            const cornerRelative = new Vec3(this.halfSize.x, 0, -this.halfSize.z)\r\n            return this.center.substract(cornerRelative)\r\n        } else if (diff.x >= 0 && diff.z >= 0) {\r\n            return this.center.add(this.halfSize)\r\n        }\r\n    }\r\n\r\n    basePointsYZeroed() {\r\n        const a = this.halfSize.yZeroed\r\n        return [\r\n            this.center.add(a),\r\n            this.center.add(a.xInverted),\r\n            this.center.add(a.yInverted),\r\n            this.center.substract(a),\r\n        ]\r\n    }\r\n}","import { Vec2, Vec3 } from '../../utils'\r\nimport Cuboid from './Cuboid'\r\nimport texture from '../../../textures/wall.png'\r\nimport Config from '../../Config'\r\nimport { Program } from '../../programs/Program'\r\nimport Interactable from './Interactable'\r\nimport UI from '../ui/UI'\r\nimport BetterAudio from '../../BetterAudio'\r\nimport audio from \"../../../sounds/WSND0030.wav\"\r\n\r\nexport default class Lever extends Cuboid implements Interactable {\r\n    importedTexture = texture\r\n    texturesInLine = 16\r\n    audio = new BetterAudio(audio)\r\n    value: string\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program, value: string) {\r\n        super(gl, program)\r\n        this.value = value\r\n    }\r\n\r\n    canInteract = true\r\n\r\n    lightTexture = 101\r\n    pressedTexture = 113\r\n\r\n    onCreation() {\r\n        this.transform.scale = Vec3.one.multiply(Config.gridSize)\r\n        this.setTexture(this.lightTexture)\r\n    }\r\n\r\n    updateBuffers() {\r\n        super.updateBuffers()\r\n    }\r\n\r\n    get darkTexture() {\r\n        return this.lightTexture\r\n    }\r\n\r\n    toggle() {\r\n        if (UI.instance.state != 'end') {\r\n            this.audio.play()\r\n            this.setTexture(this.pressedTexture)\r\n            UI.instance.state = 'end'\r\n            UI.instance.levelEnd.calculateValues()\r\n            UI.instance.endTime = new Date()\r\n            this.updateBuffers()\r\n        }\r\n    }\r\n}","import texture from '../../../textures/uvTest.png'\r\nimport { hexToRgb, Vec3 } from '../../utils'\r\nimport Shape from './Shape'\r\nimport Config from '../../Config'\r\nimport { Program } from '../../programs/Program'\r\n\r\nexport default class Plane extends Shape {\r\n    VERTICES = new Float32Array([\r\n        0.5, 0, 0.5,\r\n        -0.5, 0, -0.5,\r\n        -0.5, 0, 0.5,\r\n        0.5, 0, -0.5,\r\n        -0.5, 0, -0.5,\r\n        0.5, 0, 0.5,\r\n    ])\r\n\r\n    TEXCOORDS = new Float32Array([\r\n        1, 1,\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 0,\r\n        1, 1,\r\n    ])\r\n\r\n    COLORS = new Uint8Array([\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n        80, 70, 200,\r\n    ])\r\n\r\n    importedTexture = texture\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program) {\r\n        super(gl, program)\r\n        this.transform.scale.set(Config.gridSize, 1, Config.gridSize)\r\n    }\r\n\r\n    setColor(color: string) {\r\n        let colors = Vec3.arrayToVec3Array(this.COLORS)\r\n        colors = colors.map(c => hexToRgb(color))\r\n        this.COLORS = new Uint8Array(Vec3.vec3ArrayToArray(colors))\r\n    }\r\n}","import { m4, Vec3, Transform } from '../../utils'\r\nimport { Program, ProgramInfo } from '../../programs/Program'\r\nimport { GridBoundingBox } from './GridBoundingBox'\r\nimport { CuboidBoundingBox } from './CuboidBoundingBox'\r\n\r\nexport default abstract class Shape {\r\n    importedTexture: string\r\n    webglTexture: WebGLTexture\r\n    protected readonly gl: WebGLRenderingContext\r\n    protected positionBuffer: WebGLBuffer\r\n    protected colorBuffer: WebGLBuffer\r\n    protected texcoordsBuffer: WebGLBuffer\r\n    protected VERTICES: Float32Array\r\n    protected COLORS: Uint8Array\r\n    protected TEXCOORDS: Float32Array\r\n    protected initialTexcoords: Float32Array\r\n    private firstBufferReady = false\r\n    transform = new Transform()\r\n    initialTransform: Transform\r\n    program: Program\r\n    bb: GridBoundingBox | CuboidBoundingBox = null\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program) {\r\n        this.gl = gl\r\n        this.program = program\r\n        setTimeout(() => {\r\n            this.updateBuffers()\r\n        })\r\n    }\r\n\r\n    get verticesTransformed() {\r\n        return this.verticesVec3Array.map(vec => {\r\n            let a = m4.identity\r\n            a = m4.translate(a, vec.multiplyByVector(this.transform.scale))\r\n            a = m4.rotate(a, this.transform.rotation)\r\n            a = m4.translate(this.transform.matrix, m4.getPositionVector(a))\r\n            return m4.getPositionVector(a)\r\n        })\r\n    }\r\n\r\n    get verticesCount() {\r\n        return this.VERTICES.length / 3\r\n    }\r\n\r\n    get verticesVec3Array() {\r\n        return Vec3.arrayToVec3Array(this.VERTICES)\r\n    }\r\n\r\n    get xVertices() {\r\n        return this.VERTICES.filter((_, index) => index % 3 == 0)\r\n    }\r\n\r\n    get yVertices() {\r\n        return this.VERTICES.filter((_, index) => index % 3 == 1)\r\n    }\r\n\r\n    get zVertices() {\r\n        return this.VERTICES.filter((_, index) => index % 3 == 2)\r\n    }\r\n\r\n    get size() {\r\n        return new Vec3(\r\n            (Math.max(...this.xVertices) - Math.min(...this.xVertices)) * this.transform.scale.x,\r\n            (Math.max(...this.yVertices) - Math.min(...this.yVertices)) * this.transform.scale.y,\r\n            (Math.max(...this.zVertices) - Math.min(...this.zVertices)) * this.transform.scale.z,\r\n        )\r\n    }\r\n\r\n    get sizeRotated() {\r\n        if (!this.transform.rotation.y) return this.size\r\n        const rotationMatrix = m4.yRotation(this.transform.rotation.y)\r\n        return this.size.transformMat4(rotationMatrix).abs\r\n    }\r\n\r\n    get halfSize() {\r\n        return this.size.multiply(0.5)\r\n    }\r\n\r\n    get halfSizeRotated() {\r\n        return this.sizeRotated.multiply(0.5)\r\n    }\r\n\r\n    texturedWidth = 1\r\n    get texturedSize() {\r\n        return this.size.multiplyByVector(Vec3.right.multiply(this.texturedWidth))\r\n    }\r\n\r\n    setInitialState() {\r\n        this.initialTransform = this.transform.clone()\r\n        this.initialTexcoords = this.TEXCOORDS.slice(0)\r\n        this.onCreation()\r\n        this.updateBuffers()\r\n    }\r\n\r\n    onCreation() { }\r\n\r\n    updateBuffers() {\r\n        if (!this.firstBufferReady) {\r\n            this.setPositionBuffer()\r\n            this.setColorBuffer()\r\n        }\r\n        if (this.TEXCOORDS) {\r\n            this.setTexcoordsBuffer()\r\n        }\r\n        this.firstBufferReady = true\r\n    }\r\n\r\n    bindGeometry(positionLocation: number) {\r\n        this.gl.enableVertexAttribArray(positionLocation);\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\r\n        const size = 3;\r\n        const type = this.gl.FLOAT;\r\n        const normalize = false;\r\n        const stride = 0;\r\n        const offset = 0;\r\n        this.gl.vertexAttribPointer(positionLocation, size, type, normalize, stride, offset);\r\n    }\r\n\r\n    bindColors(colorLocation: number) {\r\n        // Turn on the color attribute\r\n        this.gl.enableVertexAttribArray(colorLocation);\r\n\r\n        // Bind the color buffer.\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\r\n\r\n        // Tell the attribute how to get data out of colorBuffer (ARRAY_BUFFER)\r\n        const size = 3;                 // 3 components per iteration\r\n        const type = this.gl.UNSIGNED_BYTE;  // the data is 8bit unsigned values\r\n        const normalize = true;         // normalize the data (convert from 0-255 to 0-1)\r\n        const stride = 0;               // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n        const offset = 0;               // start at the beginning of the buffer\r\n        this.gl.vertexAttribPointer(colorLocation, size, type, normalize, stride, offset);\r\n    }\r\n\r\n    bindTexture(texcoordsLocation: number) {\r\n        // Turn on the color attribute\r\n        this.gl.enableVertexAttribArray(texcoordsLocation);\r\n\r\n        // Bind the color buffer.\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.texcoordsBuffer);\r\n\r\n        // Tell the attribute how to get data out of colorBuffer (ARRAY_BUFFER)\r\n        const size = 2;                 // 2 components per iteration\r\n        const type = this.gl.FLOAT;  // the data is 8bit unsigned values\r\n        const normalize = false;         // normalize the data (convert from 0-255 to 0-1)\r\n        const stride = 0;               // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n        const offset = 0;               // start at the beginning of the buffer\r\n        this.gl.vertexAttribPointer(texcoordsLocation, size, type, normalize, stride, offset);\r\n    }\r\n\r\n    bindTransform(matrixLocation: WebGLUniformLocation, viewProjectionMatrix: number[]) {\r\n        let matrix = this.transform.matrix\r\n        matrix = m4.multiply(matrix, viewProjectionMatrix);\r\n\r\n        // Set the matrix.\r\n        this.gl.uniformMatrix4fv(matrixLocation, false, matrix);\r\n    }\r\n\r\n    draw(viewProjectionMatrix: number[]) {\r\n        if (!this.firstBufferReady) return\r\n        this.program.use()\r\n        this.bindGeometry(this.program.info.attributes.position)\r\n        if (this.program.info.attributes.color) {\r\n            this.bindColors(this.program.info.attributes.color)\r\n        }\r\n        if (this.program.info.attributes.texcoord) {\r\n            this.bindTexture(this.program.info.attributes.texcoord)\r\n        }\r\n        this.bindTransform(this.program.info.uniforms.matrix, viewProjectionMatrix)\r\n\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.webglTexture);\r\n\r\n        this._draw()\r\n    }\r\n\r\n    private _draw() {\r\n        const primitiveType = this.gl.TRIANGLES;\r\n        const offset = 0;\r\n        const count = this.verticesCount;\r\n        this.gl.drawArrays(primitiveType, offset, count);\r\n    }\r\n\r\n    private setPositionBuffer() {\r\n        this.positionBuffer = this.gl.createBuffer();\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\r\n        this.gl.bufferData(\r\n            this.gl.ARRAY_BUFFER,\r\n            this.VERTICES,\r\n            this.gl.STATIC_DRAW\r\n        );\r\n    }\r\n\r\n    private setColorBuffer() {\r\n        this.colorBuffer = this.gl.createBuffer();\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\r\n        this.gl.bufferData(\r\n            this.gl.ARRAY_BUFFER,\r\n            this.COLORS,\r\n            this.gl.STATIC_DRAW\r\n        );\r\n    }\r\n\r\n    private setTexcoordsBuffer() {\r\n        this.texcoordsBuffer = this.gl.createBuffer();\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.texcoordsBuffer);\r\n        this.gl.bufferData(\r\n            this.gl.ARRAY_BUFFER,\r\n            this.TEXCOORDS,\r\n            this.gl.STATIC_DRAW\r\n        );\r\n    }\r\n}","import { Vec2, Vec3 } from '../../utils'\r\nimport Cuboid from './Cuboid'\r\nimport texture from '../../../textures/wall.png'\r\nimport Config from '../../Config'\r\nimport { Program } from '../../programs/Program'\r\n\r\nexport default class Wall extends Cuboid {\r\n    importedTexture = texture\r\n    texturesInLine = 16\r\n\r\n    value: string\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program, value: string) {\r\n        super(gl, program)\r\n        this.value = value\r\n    }\r\n\r\n    nearDoorLightTexture = 106\r\n    nearDoorDarkTexture = 107\r\n\r\n    onCreation() {\r\n        this.transform.scale = Vec3.one.multiply(Config.gridSize)\r\n        this.setTexture(this.lightTexture)\r\n        this.setTexture(this.darkTexture, 2)\r\n        this.setTexture(this.darkTexture, 3)\r\n    }\r\n\r\n    get textureColor() {\r\n        for (let color of ['gray', 'blue', 'brown']) {\r\n            if (this.value.toLowerCase().includes(color)) {\r\n                return color\r\n            }\r\n        }\r\n        return 'gray'\r\n    }\r\n\r\n    get textureName() {\r\n        for (let lastLetter of ['F', 'E', 'H', 'B', 'S', 'E', 'H']) {\r\n            if (this.value.substr(-1) == lastLetter) {\r\n                return lastLetter\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n\r\n    get lightTexture(): number {\r\n        if (this.transform.rotation.y) {\r\n            return this._darkTexture\r\n        } else {\r\n            return this._lightTexture\r\n        }\r\n    }\r\n\r\n    get darkTexture() {\r\n        if (this.transform.rotation.y) {\r\n            return this._lightTexture\r\n        } else {\r\n            return this._darkTexture\r\n        }\r\n    }\r\n\r\n    private get _lightTexture() {\r\n        switch (this.value) {\r\n            case 'exitRailWall': return 100\r\n            case 'secretExitRailWall': return 122\r\n        }\r\n        switch (this.textureColor) {\r\n            case 'gray':\r\n                switch (this.textureName) {\r\n                    case 'F': return 4      //flag\r\n                    case 'H': return 16     //hitler\r\n                    case 'E': return 20     //eagle\r\n                    default: return 0\r\n                }\r\n            case 'blue':\r\n                switch (this.textureName) {\r\n                    case 'B': return 18    //bars\r\n                    case 'S': return 32     //skeleton bars\r\n                    default: return 34\r\n                }\r\n            case 'brown':\r\n                switch (this.textureName) {\r\n                    case 'E': return 48     //eagle\r\n                    case 'H': return 50     //hitler\r\n                    default: return 52\r\n                }\r\n        }\r\n    }\r\n\r\n    private get _darkTexture() {\r\n        switch (this.value) {\r\n            case 'exitRailWall': return this._lightTexture\r\n            case 'secretExitRailWall': return this._lightTexture\r\n            default: return this._lightTexture + 1\r\n        }\r\n    }\r\n}","import { Vec2, Vec3 } from '../../utils'\r\nimport Config from '../../Config'\r\nimport Wall from './Wall'\r\nimport Interactable from './Interactable'\r\nimport Camera from '../../Camera'\r\nimport audio from \"../../../sounds/WSND0015.wav\"\r\nimport BetterAudio from '../../BetterAudio'\r\nimport UI from '../ui/UI'\r\n\r\n\r\nexport default class WallSecretDoor extends Wall implements Interactable {\r\n    canInteract = true\r\n    dirToCalculate = false\r\n\r\n    private dir: Vec3\r\n    private opening = false\r\n    private openingSpeed = Config.gridSize * 0.7\r\n    audio = new BetterAudio(audio)\r\n\r\n    toggle() {\r\n        if (!this.opening) {\r\n            this.opening = true\r\n            UI.instance.secretsFound++\r\n            this.audio.play()\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number, camera: Camera) {\r\n        if (this.opening) {\r\n            if (this.dirToCalculate) {\r\n                this.calculateDir(camera)\r\n            }\r\n            this.transform.position = this.transform.position.add(this.dir.multiply(deltaTime * this.openingSpeed))\r\n            if (this.initialTransform.position.distanceTo(this.transform.position) >= Config.gridSize * 2) {\r\n                this.opening = false\r\n                this.canInteract = false\r\n            }\r\n        }\r\n    }\r\n\r\n    calculateDir(camera: Camera) {\r\n        this.dir = Vec3.fromAngle(this.transform.rotation.y)\r\n        const toCamera = camera.transform.position.substract(this.transform.position)\r\n        if ((this.dir.x > 0 && toCamera.x > 0) || (this.dir.x < 0 && toCamera.x < 0)) {\r\n            this.dir.x = -this.dir.x\r\n        }\r\n        if ((this.dir.z > 0 && toCamera.z > 0) || (this.dir.z < 0 && toCamera.z < 0)) {\r\n            this.dir.z = -this.dir.z\r\n        }\r\n        this.dirToCalculate = false\r\n    }\r\n}","import texture from '../../../../textures/objects.png'\r\nimport Config from '../../../Config'\r\nimport { Program } from '../../../programs/Program'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport Plane from '../Plane'\r\nimport DecorationMap from '../../../../../common/DecorationMap'\r\nimport { GridBoundingBox } from '../GridBoundingBox'\r\n\r\nexport default class Decoration extends Plane {\r\n    type: string\r\n    bb: GridBoundingBox\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program, type: string) {\r\n        super(gl, program)\r\n        this.type = type\r\n    }\r\n\r\n    createBB() {\r\n        this.bb = new GridBoundingBox(this.transform.position, Vec3.one.multiply(Config.gridSize))\r\n    }\r\n\r\n    get textureNumber() {\r\n        return DecorationMap.get(this.type)\r\n    }\r\n\r\n    importedTexture = texture\r\n\r\n    private firstTextureSet = false\r\n\r\n    onCreation() {\r\n        this.transform.scale = Vec3.one.multiply(Config.gridSize)\r\n        this.transform.rotation.x = degToRad(90)\r\n        this.setTexture(this.textureNumber)\r\n    }\r\n\r\n    lookAtCamera(cameraY: number) {\r\n        this.transform.rotation.y = -cameraY\r\n    }\r\n\r\n    private texturesInLine = 8\r\n\r\n    get textureSize() {\r\n        return 1 / this.texturesInLine\r\n    }\r\n\r\n    setTexture(textureNumber: number) {\r\n        let verticesVec2Array = Vec2.arrayToVec2Array(this.initialTexcoords)\r\n        const texturePos = new Vec2(textureNumber % this.texturesInLine, Math.floor(textureNumber / this.texturesInLine)).multiply(this.textureSize)\r\n        verticesVec2Array = verticesVec2Array.map(vertex => vertex.multiply(this.textureSize).add(texturePos))\r\n        this.TEXCOORDS = new Float32Array(Vec2.vec2ArrayToArray(verticesVec2Array))\r\n        if (!this.firstTextureSet) {\r\n            this.firstTextureSet = true\r\n            this.updateBuffers()\r\n        }\r\n    }\r\n}","import Camera from '../../../Camera'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport UI from '../../ui/UI'\r\nimport Pickup from './Pickup'\r\nimport audio from \"../../../../sounds/P_AMMO.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class Ammo extends Pickup {\r\n    textureNumber = 43\r\n    ammoCount = 4\r\n    audio = new BetterAudio(audio)\r\n\r\n    onPickedUp(camera: Camera) {\r\n        UI.instance.ammo += this.ammoCount\r\n        if (UI.instance.weapon == 'knife') {\r\n            UI.instance.weapon = UI.instance.weapons.availableTypes[UI.instance.weapons.availableTypes.length - 1]\r\n        }\r\n    }\r\n}","import HealthItem from './HealthItem'\r\nimport audio from \"../../../../sounds/P_FOOD.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class DogFood extends HealthItem {\r\n    healthRestored = 4\r\n    textureNumber = 11\r\n    audio = new BetterAudio(audio)\r\n}","import Camera from '../../../Camera'\r\nimport Config from '../../../Config'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport Pickup from './Pickup'\r\nimport audio from \"../../../../sounds/P_AMMO.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class Flag extends Pickup {\r\n    textureNumber = 6\r\n    audio = new BetterAudio(audio)\r\n    onCreation() {\r\n        super.onCreation()\r\n        const scale = 0.5\r\n        this.transform.scale = this.transform.scale.multiply(scale)\r\n        this.transform.position.y = -50\r\n    }\r\n\r\n    onPickedUp(camera: Camera) {\r\n    }\r\n}","import HealthItem from './HealthItem'\r\nimport audio from \"../../../../sounds/P_FOOD.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class Food extends HealthItem {\r\n    healthRestored = 10\r\n    textureNumber = 41\r\n    audio = new BetterAudio(audio)\r\n}","import PointItem from './PointItem'\r\nimport audio from \"../../../../sounds/T_CHEST.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class GoldenBox extends PointItem {\r\n    textureNumber = 51\r\n    givenScore = 1000\r\n    audio = new BetterAudio(audio)\r\n}","import PointItem from './PointItem'\r\nimport audio from \"../../../../sounds/T_CROSS.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class GoldenCross extends PointItem {\r\n    textureNumber = 49\r\n    givenScore = 100\r\n    audio = new BetterAudio(audio)\r\n}","import PointItem from './PointItem'\r\nimport audio from \"../../../../sounds/T_CROWN.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class GoldenCrown extends PointItem {\r\n    textureNumber = 52\r\n    givenScore = 5000\r\n    audio = new BetterAudio(audio)\r\n}","import PointItem from './PointItem'\r\nimport audio from \"../../../../sounds/T_CUP.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class GoldenCup extends PointItem {\r\n    textureNumber = 50\r\n    givenScore = 500\r\n    audio = new BetterAudio(audio)\r\n}","import BetterAudio from '../../../BetterAudio'\r\nimport Camera from '../../../Camera'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport UI from '../../ui/UI'\r\nimport Pickup from './Pickup'\r\n\r\nexport default abstract class HealthItem extends Pickup {\r\n    abstract healthRestored: number\r\n    abstract audio: BetterAudio\r\n\r\n    onPickedUp(camera: Camera) {\r\n        UI.instance.health += this.healthRestored\r\n        if (UI.instance.health > 100) {\r\n            UI.instance.health = 100\r\n        }\r\n    }\r\n\r\n    canBePickedUp(camera: Camera) {\r\n        return UI.instance.health < 100\r\n    }\r\n}","import HealthItem from './HealthItem'\r\nimport audio from \"../../../../sounds/P_MEDKIT.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class HealthPack extends HealthItem {\r\n    healthRestored = 25\r\n    textureNumber = 42\r\n    audio = new BetterAudio(audio)\r\n}","import Camera from '../../../Camera'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport UI from '../../ui/UI'\r\nimport Pickup from './Pickup'\r\nimport audio from \"../../../../sounds/P_MGUN.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class Machinegun extends Pickup {\r\n    textureNumber = 44\r\n    audio = new BetterAudio(audio)\r\n\r\n    onPickedUp(camera: Camera) {\r\n        UI.instance.weapons.availableTypes.push('machinegun')\r\n        UI.instance.weapon = 'machinegun'\r\n    }\r\n}","import texture from '../../../../textures/objects.png'\r\nimport AudioPlayer from '../../../BetterAudio'\r\nimport Camera from '../../../Camera'\r\nimport Config from '../../../Config'\r\nimport { Program } from '../../../programs/Program'\r\nimport { degToRad, Vec2, Vec3 } from '../../../utils'\r\nimport Plane from '../Plane'\r\nimport BetterAudio from '../../../BetterAudio'\r\nimport UI from '../../ui/UI'\r\n\r\nexport default abstract class Pickup extends Plane {\r\n    importedTexture = texture\r\n    abstract audio: BetterAudio\r\n\r\n    pickupRange = Config.gridSize * 0.5\r\n    pickedUp = false\r\n\r\n    private firstTextureSet = false\r\n    protected abstract textureNumber: number\r\n\r\n    onCreation() {\r\n        this.transform.scale = Vec3.one.multiply(Config.gridSize)\r\n        this.transform.rotation.x = degToRad(90)\r\n        this.setTexture(this.textureNumber)\r\n    }\r\n\r\n    lookAtCamera(cameraY: number) {\r\n        this.transform.rotation.y = -cameraY\r\n    }\r\n\r\n    private texturesInLine = 8\r\n\r\n    get textureSize() {\r\n        return 1 / this.texturesInLine\r\n    }\r\n\r\n    canBePickedUp(camera: Camera) {\r\n        return true\r\n    }\r\n\r\n    pickUp(camera: Camera) {\r\n        if (!this.pickedUp && this.canBePickedUp(camera)) {\r\n            this.onPickedUp(camera)\r\n            this.audio.play()\r\n            UI.instance.flashYellow()\r\n            this.pickedUp = true\r\n        }\r\n    }\r\n\r\n    onPickedUp(camera: Camera) { }\r\n\r\n    setTexture(textureNumber: number) {\r\n        if (textureNumber == this.textureNumber && this.firstTextureSet) return\r\n        this.textureNumber = textureNumber\r\n        let verticesVec2Array = Vec2.arrayToVec2Array(this.initialTexcoords)\r\n        const texturePos = new Vec2(textureNumber % this.texturesInLine, Math.floor(textureNumber / this.texturesInLine)).multiply(this.textureSize)\r\n        verticesVec2Array = verticesVec2Array.map(vertex => vertex.multiply(this.textureSize).add(texturePos))\r\n        this.TEXCOORDS = new Float32Array(Vec2.vec2ArrayToArray(verticesVec2Array))\r\n        if (!this.firstTextureSet) {\r\n            this.firstTextureSet = true\r\n            this.updateBuffers()\r\n        }\r\n    }\r\n}","import Camera from '../../../Camera'\r\nimport UI from '../../ui/UI'\r\nimport Pickup from './Pickup'\r\n\r\nexport default abstract class PointItem extends Pickup {\r\n    abstract textureNumber: number\r\n    abstract givenScore: number\r\n\r\n    onPickedUp(camera: Camera) {\r\n        UI.instance.score += this.givenScore\r\n        UI.instance.treasuresFound++\r\n    }\r\n}","import Camera from '../../../Camera'\r\nimport UI from '../../ui/UI'\r\nimport Pickup from './Pickup'\r\nimport audio from \"../../../../sounds/P_LIFE.wav\"\r\nimport BetterAudio from '../../../BetterAudio'\r\n\r\nexport default class PowerUp extends Pickup {\r\n    textureNumber = 56\r\n    audio = new BetterAudio(audio)\r\n    onPickedUp(camera: Camera) {\r\n        UI.instance.health = 100\r\n        UI.instance.ammo += 25\r\n        UI.instance.lives++\r\n    }\r\n}","import { Program } from '../../programs/Program'\r\nimport { m4, Vec3 } from '../../utils'\r\nimport Shape from '../level/Shape'\r\n\r\nexport default class Crosshair extends Shape {\r\n    readonly VERTICES = new Float32Array([\r\n        1, 1, 0,\r\n        -1, 1, 0,\r\n        -1, -1, 0,\r\n        -1, -1, 0,\r\n        1, -1, 0,\r\n        1, 1, 0,\r\n    ])\r\n\r\n    readonly COLORS = new Uint8Array([\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n        200, 70, 0.520,\r\n    ])\r\n\r\n    constructor(gl: WebGLRenderingContext, program: Program) {\r\n        super(gl, program)\r\n        this.transform.scale = Vec3.one.multiply(0.01)\r\n        this.transform.position.z = -2\r\n    }\r\n}","export default class DeathScreen {\r\n    canvas: HTMLCanvasElement\r\n    private ctx: CanvasRenderingContext2D\r\n    private pixels: ImageData\r\n    private frame = 0\r\n    private started = false\r\n    private reversed = false\r\n    private interval: NodeJS.Timer\r\n\r\n    constructor() {\r\n        this.canvas = document.createElement('canvas')\r\n\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.ctx.imageSmoothingEnabled = false;\r\n\r\n        this.canvas.width = 320\r\n        this.canvas.height = 200\r\n\r\n        this.pixels = this.ctx.createImageData(this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    start() {\r\n        if (!this.started) {\r\n            this.started = true\r\n            this.interval = setInterval(() => this.update(), 1);\r\n        }\r\n    }\r\n\r\n    /* Write a pixel, just set alpha and RGB channels. */\r\n    private setPixelRed(x: number, y: number) {\r\n        var offset = x * 4 + y * 4 * this.canvas.width;\r\n        this.pixels.data[offset + 3] = 255;\r\n        this.pixels.data[offset + 0] = 255;\r\n        this.pixels.data[offset + 1] = 0;\r\n        this.pixels.data[offset + 2] = 0;\r\n    }\r\n    private setPixelTransparent(x: number, y: number) {\r\n        var offset = x * 4 + y * 4 * this.canvas.width;\r\n        this.pixels.data[offset + 3] = 0;\r\n        this.pixels.data[offset + 0] = 0;\r\n        this.pixels.data[offset + 1] = 0;\r\n        this.pixels.data[offset + 2] = 0;\r\n    }\r\n\r\n    /* Transforms the 16 bit input into another seemingly psenduo random number\r\n     * in the same range. Every input 16 bit input will generate a different\r\n     * 16 bit output. This is called a Feistel network. */\r\n    private feistelNet(input: number) {\r\n        var l = input & 0xff;\r\n        var r = input >> 8;\r\n        for (var i = 0; i < 8; i++) {\r\n            var nl = r;\r\n            var F = (((r * 11) + (r >> 5) + 7 * 127) ^ r) & 0xff;\r\n            r = l ^ F;\r\n            l = nl;\r\n        }\r\n        return ((r << 8) | l) & 0xffff;\r\n    }\r\n\r\n    /* Called once every millisecond, sets 100 pixels. */\r\n    private update() {\r\n        /* Set 100 pixels per iteration otherwise it's too slow. */\r\n        for (let j = 0; j < 200; j++) {\r\n            if (this.frame == 65536) {\r\n                setTimeout(() => {\r\n                    this.reversed = true\r\n                    setTimeout(() => {\r\n                        this.frame = 0\r\n                        this.started = false\r\n                        this.reversed = false\r\n                        clearInterval(this.interval)\r\n                        this.interval = null\r\n                    }, 10000)\r\n                }, 2000)\r\n            }\r\n            var fn = this.feistelNet(this.frame);\r\n            var x = fn % this.canvas.width;\r\n            var y = Math.floor(fn / this.canvas.width);\r\n            if (x < this.canvas.width && y < this.canvas.height) {\r\n                if (this.reversed) {\r\n                    this.setPixelTransparent(x, y);\r\n                } else {\r\n                    this.setPixelRed(x, y);\r\n                }\r\n            }\r\n            this.frame++;\r\n        }\r\n        this.ctx.fillStyle = \"green\"\r\n        this.ctx.fillRect(0, 0, 100, 100)\r\n        this.ctx.putImageData(this.pixels, 0, 0);\r\n    }\r\n\r\n}","import levelEnd from '../../../textures/levelEnd.png'\r\nimport uiElements from '../../../textures/uiElements.png'\r\nimport font from '../../../textures/font.png'\r\nimport Config from '../../Config'\r\nimport { Vec2 } from '../../utils'\r\nimport UI from './UI'\r\n\r\nexport default class LevelEnd {\r\n    canvas: HTMLCanvasElement\r\n    private ctx: CanvasRenderingContext2D\r\n    private levelEnd: HTMLImageElement\r\n    private uiElements: HTMLImageElement\r\n    private font: HTMLImageElement\r\n\r\n    private displayTime = ''\r\n    private bonusScore = 0\r\n    private animation = 0\r\n\r\n    enemiesRatio: string = '0'\r\n    secretsRatio: string = '0'\r\n    treasuresRatio: string = '0'\r\n\r\n    constructor() {\r\n        this.canvas = document.createElement('canvas')\r\n\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.ctx.imageSmoothingEnabled = false;\r\n\r\n        this.canvas.width = 320\r\n        this.canvas.height = 200\r\n\r\n        this.levelEnd = new Image();\r\n        this.levelEnd.src = levelEnd;\r\n\r\n        this.uiElements = new Image();\r\n        this.uiElements.src = uiElements;\r\n\r\n        this.font = new Image();\r\n        this.font.src = font;\r\n\r\n        setInterval(() => {\r\n            this.animation = this.animation ? 0 : 1\r\n        }, 500)\r\n    }\r\n\r\n    calculateValues() {\r\n        UI.instance.endTime = new Date()\r\n        const timeDiff = new Date(UI.instance.endTime.getTime() - UI.instance.startTime.getTime())\r\n        this.displayTime = timeDiff.toTimeString().substring(3, 8)\r\n        const playTimeSeconds = 90 - Math.floor(timeDiff.getTime() / 1000)\r\n        this.bonusScore = playTimeSeconds * 500\r\n\r\n        this.enemiesRatio = (Math.floor(UI.instance.enemiesKilled / UI.instance.enemiesCount * 100)).toString()\r\n        this.secretsRatio = (Math.floor(UI.instance.secretsFound / UI.instance.secretsCount * 100)).toString()\r\n        this.treasuresRatio = (Math.floor(UI.instance.treasuresFound / UI.instance.treasuresCount * 100)).toString()\r\n\r\n        for (let ratio of [this.enemiesRatio, this.secretsRatio, this.treasuresRatio]) {\r\n            if (ratio == '100') {\r\n                this.bonusScore += 10000\r\n            }\r\n        }\r\n        UI.instance.score += this.bonusScore\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.ctx.drawImage(this.levelEnd, 0, 0)\r\n        this.ctx.drawImage(this.uiElements, 81 * this.animation, 60, 81, 87, 20, 16, 81, 87)\r\n        this.drawTime()\r\n        this.drawBonusScore()\r\n        this.drawRatios()\r\n    }\r\n\r\n    drawTime() {\r\n        this.drawDigit(parseInt(this.displayTime[0]), 208 + 16 * 0, 80)\r\n        this.drawDigit(parseInt(this.displayTime[1]), 208 + 16 * 1, 80)\r\n        this.drawDigit(parseInt(this.displayTime[3]), 208 + 8 + 16 * 2, 80)\r\n        this.drawDigit(parseInt(this.displayTime[4]), 208 + 8 + 16 * 3, 80)\r\n    }\r\n\r\n    drawBonusScore() {\r\n        this.drawDigit(parseInt(this.bonusScore.toString()[0]), 208 + 16 * 0, 56)\r\n        this.drawDigit(parseInt(this.bonusScore.toString()[1]), 208 + 16 * 1, 56)\r\n        this.drawDigit(parseInt(this.bonusScore.toString()[2]), 208 + 16 * 2, 56)\r\n        this.drawDigit(parseInt(this.bonusScore.toString()[3]), 208 + 16 * 3, 56)\r\n        this.drawDigit(parseInt(this.bonusScore.toString()[4]), 208 + 16 * 4, 56)\r\n    }\r\n\r\n    drawRatios() {\r\n        for (let i = 0; i < this.enemiesRatio.length; i++) {\r\n            this.drawDigit(parseInt(this.enemiesRatio[this.enemiesRatio.length - 1 - i]), 280 - 16 * i, 112 + 16 * 0)\r\n        }\r\n        for (let i = 0; i < this.secretsRatio.length; i++) {\r\n            this.drawDigit(parseInt(this.secretsRatio[this.secretsRatio.length - 1 - i]), 280 - 16 * i, 112 + 16 * 1)\r\n        }\r\n        for (let i = 0; i < this.treasuresRatio.length; i++) {\r\n            this.drawDigit(parseInt(this.treasuresRatio[this.treasuresRatio.length - 1 - i]), 280 - 16 * i, 112 + 16 * 2)\r\n        }\r\n    }\r\n\r\n    private drawDigit(digit: number, x: number, y: number) {\r\n        this.ctx.drawImage(this.font, 16 * digit, 0, 16, 16, x, y, 16, 16)\r\n    }\r\n}","import uiElements from '../../../textures/uiElements.png'\r\nimport Config from '../../Config'\r\nimport UI from './UI'\r\n\r\nexport default class LoadingScreen {\r\n    canvas: HTMLCanvasElement\r\n    private ctx: CanvasRenderingContext2D\r\n    private uiElements: HTMLImageElement\r\n    private progress = 0\r\n    private state = \"beforeLoading\"\r\n    private readonly loadingTime = 1\r\n    private readonly beforeLoadingDelay = 0.3\r\n    private readonly afterLoadingDelay = 0.3\r\n\r\n    constructor() {\r\n        this.canvas = document.createElement('canvas')\r\n\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.ctx.imageSmoothingEnabled = false;\r\n\r\n        this.canvas.width = 320\r\n        this.canvas.height = 200\r\n\r\n        this.uiElements = new Image();\r\n        this.uiElements.src = uiElements;\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (UI.instance.state != 'loading') return\r\n        this.ctx.fillStyle = \"#004141\"\r\n        this.ctx.fillRect(0, 0, 320, 160)\r\n        this.ctx.drawImage(\r\n            this.uiElements,\r\n            0,\r\n            160,\r\n            224,\r\n            48,\r\n            96 / 2,\r\n            112 / 2,\r\n            224,\r\n            48\r\n        )\r\n        if (this.state == 'beforeLoading') {\r\n            this.progress += deltaTime\r\n            if (this.progress >= this.beforeLoadingDelay) {\r\n                this.state = \"loading\"\r\n                this.progress = 0\r\n            }\r\n        } else if (this.state == 'loading') {\r\n            this.progress += deltaTime / this.loadingTime\r\n            if (this.progress >= 1) {\r\n                this.progress = 0\r\n                this.state = \"afterLoading\"\r\n            }\r\n        } else if (this.state == 'afterLoading') {\r\n            this.progress += deltaTime\r\n            if (this.progress >= this.afterLoadingDelay) {\r\n                this.progress = 0\r\n                UI.instance.state = 'game'\r\n                UI.instance.startTime = new Date()\r\n            }\r\n        }\r\n\r\n        if (this.state != 'beforeLoading') {\r\n            let width = 214 * this.progress\r\n            if (this.state == 'afterLoading') {\r\n                width = 214\r\n            }\r\n            if (width > 0) {\r\n                this.ctx.fillStyle = \"#ff0000\"\r\n                this.ctx.fillRect(53, 101, width, 2)\r\n                this.ctx.fillStyle = \"#ff9e9e\"\r\n                this.ctx.fillRect(53, 101, width - 1, 1)\r\n            }\r\n        }\r\n    }\r\n}","import menuUnselected from '../../../textures/menuUnselected.png'\r\nimport menuSelected from '../../../textures/menuSelected.png'\r\nimport menuSelectedBlink from '../../../textures/menuSelectedBlink.png'\r\nimport Config from '../../Config'\r\nimport { Vec2 } from '../../utils'\r\nimport BetterAudio from '../../BetterAudio'\r\nimport audioMove from '../../../sounds/M_MOVE.wav'\r\nimport audioSelect from '../../../sounds/M_SELECT.wav'\r\nimport audioBack from '../../../sounds/M_BACK.wav'\r\nimport UI from './UI'\r\n\r\nexport default class Menu {\r\n    canvas: HTMLCanvasElement\r\n    private ctx: CanvasRenderingContext2D\r\n    private menuUnselected: HTMLImageElement\r\n    private menuSelected: HTMLImageElement\r\n    private menuSelectedBlink: HTMLImageElement\r\n    audioSelect = new BetterAudio(audioSelect)\r\n    audioMove = new BetterAudio(audioMove)\r\n    audioBack = new BetterAudio(audioBack)\r\n    option = 0\r\n\r\n    constructor() {\r\n        this.canvas = document.createElement('canvas')\r\n        this.ctx = this.canvas.getContext('2d')\r\n\r\n        this.canvas.width = 640\r\n        this.canvas.height = 400\r\n\r\n        this.menuUnselected = new Image();\r\n        this.menuUnselected.src = menuUnselected;\r\n\r\n        this.menuSelected = new Image();\r\n        this.menuSelected.src = menuSelected;\r\n\r\n        this.menuSelectedBlink = new Image();\r\n        this.menuSelectedBlink.src = menuSelectedBlink;\r\n\r\n        addEventListener(\"keydown\", e => {\r\n            if (UI.instance.state == \"menu\") {\r\n                if (e.code == \"ArrowDown\" || e.code == \"ArrowUp\") {\r\n                    if (this.option == 0) {\r\n                        this.option = 8\r\n                    } else {\r\n                        this.option = 0\r\n                    }\r\n                    this.audioMove.play()\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    private timeSinceLastBlink = 0\r\n    private timeSinceBlinkStart = 0\r\n    private readonly blinkInterval = 1\r\n    private readonly blinkDuration = 0.1\r\n\r\n    private readonly optionSize = new Vec2(300, 26)\r\n\r\n    update(deltaTime: number) {\r\n        this.ctx.drawImage(this.menuUnselected, 0, 0)\r\n\r\n        let image = this.menuSelected\r\n        this.timeSinceLastBlink += deltaTime\r\n        if (this.timeSinceLastBlink >= this.blinkInterval) {\r\n            image = this.menuSelectedBlink\r\n        }\r\n        if (image == this.menuSelectedBlink) {\r\n            this.timeSinceBlinkStart += deltaTime\r\n            if (this.timeSinceBlinkStart >= this.blinkDuration) {\r\n                this.timeSinceLastBlink = 0\r\n                this.timeSinceBlinkStart = 0\r\n            }\r\n        }\r\n\r\n\r\n        this.ctx.drawImage(\r\n            image,\r\n            150,\r\n            108 + this.option * this.optionSize.y,\r\n            this.optionSize.x,\r\n            this.optionSize.y,\r\n            150,\r\n            108 + this.option * this.optionSize.y,\r\n            this.optionSize.x,\r\n            this.optionSize.y\r\n        )\r\n    }\r\n}","import Config from '../../Config';\r\nimport uiTexture from '../../../textures/ui.png'\r\nimport uiElements from '../../../textures/uiElements.png'\r\nimport startScreen from '../../../textures/startScreen.png'\r\nimport Menu from './Menu';\r\n\r\nimport audioSplash from \"../../../sounds/theme_splash.mp3\"\r\nimport audioMenu from \"../../../sounds/theme_menu.mp3\"\r\nimport audioLevel from \"../../../sounds/theme_level.mp3\"\r\nimport BetterAudio from '../../BetterAudio'\r\nimport LevelEnd from './LevelEnd';\r\nimport Weapons from './Weapons';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport DeathScreen from './DeathScreen';\r\n\r\n\r\ntype FaceDirection = \"left\" | \"normal\" | \"right\"\r\ntype FaceState = \"normal\" | \"dead\" | \"win\"\r\ntype FaceAnimationStep = {\r\n    direction: FaceDirection,\r\n    duration: number,\r\n}\r\n\r\nexport default class UI {\r\n    static instance = new this\r\n    texture: HTMLImageElement\r\n    elements: HTMLImageElement\r\n    startScreen: HTMLImageElement\r\n    context: CanvasRenderingContext2D\r\n    weapons: Weapons\r\n    loadingScreen: LoadingScreen\r\n\r\n    audioSplash = new BetterAudio(audioSplash, Config.musicVolume)\r\n    audioMenu = new BetterAudio(audioMenu, Config.musicVolume)\r\n    audioLevel = new BetterAudio(audioLevel, Config.musicVolume)\r\n\r\n    floor: number = 1\r\n    score: number = 0\r\n    lives: number = 3\r\n    health: number = 100\r\n    ammo: number = 8\r\n    weapon: string = 'pistol'\r\n\r\n    faceDirection: FaceDirection = \"right\"\r\n    faceState: FaceState = \"normal\"\r\n    faceAnimationSteps: FaceAnimationStep[] = []\r\n    lastFaceAnimationStepsCount: number = null\r\n\r\n    showingMenu = true\r\n\r\n    state = 'startScreen'\r\n\r\n    menu: Menu\r\n    levelEnd: LevelEnd\r\n    deathScreen: DeathScreen\r\n\r\n    flashing = false\r\n    flashCompletion = 0\r\n    flashDuration = 0.2\r\n    flashColor: string\r\n    flashIntensity: number\r\n\r\n    startTime: Date\r\n    endTime: Date\r\n\r\n    enemiesKilled: number = 0\r\n    secretsFound: number = 0\r\n    treasuresFound: number = 0\r\n\r\n    enemiesCount: number\r\n    secretsCount: number\r\n    treasuresCount: number\r\n\r\n    constructor() {\r\n        this.menu = new Menu()\r\n        this.loadingScreen = new LoadingScreen()\r\n        this.levelEnd = new LevelEnd()\r\n        this.deathScreen = new DeathScreen()\r\n        this.audioSplash.loop()\r\n        this.audioMenu.loop()\r\n        this.audioLevel.loop()\r\n    }\r\n\r\n    init() {\r\n        this.texture = new Image();\r\n        this.texture.src = uiTexture;\r\n\r\n        this.elements = new Image();\r\n        this.elements.src = uiElements;\r\n\r\n        this.startScreen = new Image();\r\n        this.startScreen.src = startScreen;\r\n\r\n        const uiCanvas = document.getElementById(\"uiCanvas\") as HTMLCanvasElement\r\n        uiCanvas.width = 640 * Config.uiScale\r\n        uiCanvas.height = 400 * Config.uiScale\r\n\r\n        this.context = uiCanvas.getContext('2d') as CanvasRenderingContext2D\r\n        this.context.imageSmoothingEnabled = false;\r\n\r\n        document.onclick = e => { if (this.state == \"startScreen\") this.audioSplash.playIfNotPlayed() }\r\n        document.onkeydown = e => { if (this.state == \"startScreen\" && e.code == \"Space\") this.audioSplash.playIfNotPlayed() }\r\n        document.onkeyup = e => { if (this.state == \"startScreen\" && e.code == \"Space\") this.audioSplash.playIfNotPlayed() }\r\n        this.weapons = new Weapons()\r\n    }\r\n\r\n    takeLife() {\r\n        if (this.lives == 0) {\r\n            this.floor = 1\r\n            this.lives = 3\r\n        } else {\r\n            this.lives--\r\n        }\r\n        this.health = 100\r\n        this.ammo = 8\r\n        this.weapon = \"pistol\"\r\n        this.score = 0\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.weapons.update(deltaTime)\r\n        this.loadingScreen.update(deltaTime)\r\n        const currentStep = this.faceAnimationSteps[0]\r\n        if (currentStep) {\r\n            currentStep.duration -= deltaTime\r\n            if (currentStep.duration <= 0) {\r\n                this.faceAnimationSteps.shift()\r\n            }\r\n            if (this.faceAnimationSteps.length == 0) {\r\n                this.startFaceAnimation()\r\n            }\r\n            this.faceDirection = this.faceAnimationSteps[0].direction\r\n        }\r\n        if (!currentStep) {\r\n            this.startFaceAnimation()\r\n        }\r\n        this.menu.update(deltaTime)\r\n        this.levelEnd.update(deltaTime)\r\n        if (this.flashing) {\r\n            this.flashCompletion += deltaTime / this.flashDuration\r\n            if (this.flashCompletion >= 1) {\r\n                this.flashCompletion = 0\r\n                this.flashing = false\r\n            }\r\n        }\r\n    }\r\n\r\n    startFaceAnimation() {\r\n        const stepsCount = this.lastFaceAnimationStepsCount == 3 ? 5 : 3\r\n        for (let i = 0; i < stepsCount; i++) {\r\n            const min = 0.5\r\n            const max = 1.5\r\n            const duration = Math.random() * (max - min) + min;\r\n            let direction: FaceDirection\r\n            if (i % 2) {\r\n                direction = 'right'\r\n            } else {\r\n                direction = 'left'\r\n            }\r\n            this.faceAnimationSteps.push({ direction, duration })\r\n        }\r\n        this.lastFaceAnimationStepsCount = this.faceAnimationSteps.length\r\n        this.faceAnimationSteps.push({ direction: 'normal', duration: 2 })\r\n    }\r\n\r\n    draw(canvas: HTMLCanvasElement) {\r\n        this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);\r\n        this.context.drawImage(canvas, 16 * Config.uiScale, 8 * Config.uiScale, 608 * Config.uiScale, 304 * Config.uiScale)\r\n        this.context.drawImage(this.texture, 0, 0, 640 * Config.uiScale, 400 * Config.uiScale)\r\n        this.drawNumber(this.floor, 64, 352)\r\n        this.drawNumber(this.score, 192, 352)\r\n        this.drawNumber(this.lives, 240, 352)\r\n        this.drawNumber(this.health, 384, 352)\r\n        this.drawNumber(this.ammo, 464, 352)\r\n        this.drawWeaponUI()\r\n        this.weapons.draw(this.context)\r\n        this.drawFace()\r\n        if (this.flashing) {\r\n            this.context.fillStyle = `rgba(${this.flashColor}, ${(1 - this.flashCompletion) * this.flashIntensity})`\r\n            // this.context.fillStyle = `rgba(${this.flashColor}, ${(1 - this.flashCompletion) * 0.6})`\r\n            this.context.fillRect(0, 0, this.context.canvas.width, this.context.canvas.height);\r\n        }\r\n        if (this.state == \"startScreen\") {\r\n            this.context.drawImage(this.startScreen, 0, 0, 640 * Config.uiScale, 400 * Config.uiScale)\r\n        } else if (this.state == \"menu\") {\r\n            this.context.drawImage(this.menu.canvas, 0, 0, 640 * Config.uiScale, 400 * Config.uiScale)\r\n        } else if (this.state == \"loading\") {\r\n            this.context.drawImage(this.loadingScreen.canvas, 0, 0, 640 * Config.uiScale, 400 * Config.uiScale)\r\n        } else if (this.state == \"end\") {\r\n            this.context.drawImage(this.levelEnd.canvas, 0, 0, 640 * Config.uiScale, 400 * Config.uiScale)\r\n        } else if (this.state == \"dead\") {\r\n            setTimeout(() => this.deathScreen.start(), 1500)\r\n        }\r\n        this.context.drawImage(this.deathScreen.canvas, 16 * Config.uiScale, 8 * Config.uiScale, 608 * Config.uiScale, 304 * Config.uiScale)\r\n    }\r\n\r\n    drawFace() {\r\n        let faceColumn = 0\r\n        let faceRow = 0\r\n        if (this.health == 0) {\r\n            faceRow = 7\r\n            faceColumn = 1\r\n        } else if (this.faceState == 'normal') {\r\n            if (this.faceDirection == 'left') {\r\n                faceColumn = 0\r\n            } else if (this.faceDirection == 'normal') {\r\n                faceColumn = 1\r\n            } else if (this.faceDirection == 'right') {\r\n                faceColumn = 2\r\n            }\r\n\r\n            faceRow = Math.floor(this.health / (100 / 7))\r\n            if (faceRow == 7) {\r\n                faceRow = 6\r\n            }\r\n            faceRow = 6 - faceRow\r\n        } else if (this.faceState == 'win') {\r\n            faceRow = 7\r\n            faceColumn = 0\r\n        }\r\n\r\n        this.context.drawImage(\r\n            this.elements,\r\n            240 + 24 * faceColumn,\r\n            31 * faceRow,\r\n            24,\r\n            31,\r\n            274 * Config.uiScale,\r\n            330 * Config.uiScale,\r\n            48 * Config.uiScale,\r\n            62 * Config.uiScale\r\n        )\r\n    }\r\n\r\n    drawWeaponUI() {\r\n        let weaponNumber = 0\r\n        if (this.weapon == 'knife') {\r\n            weaponNumber = 0\r\n        } else if (this.weapon == 'pistol') {\r\n            weaponNumber = 1\r\n        } else if (this.weapon == 'machinegun') {\r\n            weaponNumber = 2\r\n        } else if (this.weapon == 'chaingun') {\r\n            weaponNumber = 3\r\n        }\r\n        this.context.drawImage(\r\n            this.elements,\r\n            48 * weaponNumber,\r\n            0,\r\n            48,\r\n            24,\r\n            512 * Config.uiScale,\r\n            336 * Config.uiScale,\r\n            96 * Config.uiScale,\r\n            48 * Config.uiScale\r\n        )\r\n    }\r\n\r\n    private drawNumber(number: number, x: number, y: number) {\r\n        const digits = number.toString().split('').reverse().map(digit => parseInt(digit))\r\n        const digitWidth = 16\r\n        for (let [i, digit] of digits.entries()) {\r\n            this.drawDigit(digit, x - digitWidth * (i + 1), y)\r\n        }\r\n    }\r\n\r\n    private drawDigit(digit: number, x: number, y: number) {\r\n        this.context.drawImage(\r\n            this.elements,\r\n            8 * digit,\r\n            32,\r\n            8,\r\n            16,\r\n            x * Config.uiScale,\r\n            y * Config.uiScale,\r\n            16 * Config.uiScale,\r\n            32 * Config.uiScale\r\n        )\r\n    }\r\n\r\n    flashRed() {\r\n        this.flashColor = \"255, 0, 0\"\r\n        this.flashIntensity = 0.3\r\n        this.flashing = true\r\n    }\r\n\r\n    flashYellow() {\r\n        this.flashColor = \"255, 255, 0\"\r\n        this.flashIntensity = 0.2\r\n        this.flashing = true\r\n    }\r\n}","import BetterAudio from \"../../BetterAudio\"\r\nimport AudioPlayer from \"../../BetterAudio\"\r\n\r\nexport type weaponType = \"knife\" | \"pistol\" | \"machinegun\" | \"chaingun\"\r\n\r\nexport class Weapon {\r\n    type: weaponType\r\n    fireRate: number\r\n    damage: number\r\n    initTextures: number[]\r\n    loopTextures: number[]\r\n    shootTexture: number\r\n    audio: BetterAudio\r\n\r\n    range: number = 1000000\r\n\r\n    shooting = false\r\n    willShoot = false\r\n    justShot = false\r\n\r\n    private textureIndex: number = 0\r\n    private currentTextures: number[]\r\n\r\n    constructor(\r\n        type: weaponType,\r\n        fireRate: number,\r\n        damage: number,\r\n        initTextures: number[],\r\n        loopTextures: number[],\r\n        shootTexture: number,\r\n        audio: string,\r\n    ) {\r\n        this.type = type\r\n        this.fireRate = fireRate\r\n        this.damage = damage\r\n        this.initTextures = initTextures\r\n        this.loopTextures = loopTextures\r\n        this.shootTexture = shootTexture\r\n        this.audio = new BetterAudio(audio)\r\n\r\n        this.currentTextures = initTextures\r\n    }\r\n\r\n    get isAutomatic() {\r\n        return this.loopTextures.length > 0\r\n    }\r\n\r\n    get isTextureLastInit() {\r\n        return this.textureIndex\r\n    }\r\n\r\n    get framesCount() {\r\n        if (this.isAutomatic) {\r\n            return this.loopTextures.length\r\n        } else {\r\n            return this.initTextures.length\r\n        }\r\n    }\r\n\r\n    getNextTexture() {\r\n        this.justShot = false\r\n        if (!this.isAutomatic) {\r\n            if (this.willShoot) {\r\n                return this.getNextShootingTexture()\r\n            } else {\r\n                return this.initTextures[0]\r\n            }\r\n        } else {\r\n            if (this.shooting) {\r\n                return this.getNextShootingTexture()\r\n            } else {\r\n                return this.getNextStoppedShootingTexture()\r\n            }\r\n        }\r\n    }\r\n\r\n    getNextShootingTexture() {\r\n        this.textureIndex++\r\n        if (this.textureIndex >= this.currentTextures.length) {\r\n            if (this.currentTextures == this.initTextures && this.isAutomatic) {\r\n                this.currentTextures = this.loopTextures\r\n            } else {\r\n                this.willShoot = false\r\n            }\r\n            this.textureIndex = 0\r\n        }\r\n        const texture = this.currentTextures[this.textureIndex]\r\n        if (texture == this.shootTexture) {\r\n            this.justShot = true\r\n        }\r\n        return texture\r\n    }\r\n\r\n    getNextStoppedShootingTexture() {\r\n        if (this.currentTextures == this.loopTextures) {\r\n            this.currentTextures = this.initTextures\r\n            this.textureIndex = this.initTextures.length - 1\r\n        }\r\n        let texture = this.currentTextures[this.textureIndex]\r\n        this.textureIndex--\r\n        if (this.textureIndex < 0) {\r\n            this.textureIndex = 0\r\n        }\r\n        return texture\r\n    }\r\n}","import { degToRad, m4, Vec2, Vec3 } from '../../utils'\r\nimport { Weapon, weaponType } from './Weapon'\r\nimport texture from '../../../textures/weapons.png'\r\nimport Config from '../../Config'\r\nimport Input from '../../Input'\r\nimport UI from './UI'\r\nimport knife from \"../../../sounds/DSWKNIF.wav\"\r\nimport pistol from \"../../../sounds/WSND0005.wav\"\r\nimport machinegun from \"../../../sounds/WSND0004.wav\"\r\nimport chaingun from \"../../../sounds/WSND0006.wav\"\r\n\r\n\r\nexport default class Weapons {\r\n    importedTexture = texture\r\n\r\n    availableTypes: weaponType[] = ['knife', 'pistol']\r\n    // availableTypes: weaponType[] = ['knife', 'pistol', 'machinegun', 'chaingun']\r\n\r\n    private weapons: Weapon[] = []\r\n    private texturesCount = new Vec2(8, 4)\r\n    private textureNumber: number\r\n    private texture: HTMLImageElement\r\n\r\n    private timeSinceLastUpdate = 0\r\n\r\n    constructor() {\r\n        this.texture = new Image()\r\n        this.texture.src = texture\r\n\r\n        this.weapons.push(new Weapon(\"knife\", 2.4, 40, [0, 1, 2, 3, 4], [], 3, knife))\r\n        this.weapons[0].range = Config.gridSize * 0.75\r\n        this.weapons.push(new Weapon(\"pistol\", 2.4, 70, [8, 9, 10, 11, 12], [], 10, pistol))\r\n        this.weapons.push(new Weapon(\"machinegun\", 6, 70, [16, 17], [18, 19], 19, machinegun))\r\n        this.weapons.push(new Weapon(\"chaingun\", 12, 70, [24, 25], [26, 27], 26, chaingun))\r\n\r\n        this.textureNumber = this.currentWeapon.initTextures[0]\r\n    }\r\n\r\n    get textureSize() {\r\n        return this.texturesCount.map(v => 1 / v)\r\n    }\r\n\r\n    get currentWeapon() {\r\n        return this.weapons.find(weapon => weapon.type == UI.instance.weapon)\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        this.timeSinceLastUpdate += deltaTime\r\n\r\n        if (0 < Input.instance.lastNumber && Input.instance.lastNumber <= this.weapons.length) {\r\n            for (let i = 0; i < this.weapons.length; i++) {\r\n                if (Input.instance.lastNumber == i + 1) {\r\n                    if (this.availableTypes.includes(this.weapons[i].type)) {\r\n                        UI.instance.weapon = this.weapons[i].type\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setShooting(Input.instance.shooting && UI.instance.ammo > 0)\r\n        if (Input.instance.shot && (UI.instance.ammo > 0 || this.currentWeapon.type == 'knife')) {\r\n            this.shoot()\r\n            Input.instance.justShot = true\r\n        }\r\n\r\n        if (this.currentWeapon.justShot) {\r\n            this.decreaseAmmo()\r\n            this.currentWeapon.audio.play()\r\n        }\r\n\r\n        const frameTime = 1 / (this.currentWeapon.fireRate * this.currentWeapon.framesCount)\r\n\r\n        this.currentWeapon.justShot = false\r\n\r\n        if (this.timeSinceLastUpdate >= frameTime) {\r\n            this.timeSinceLastUpdate = 0\r\n            this.textureNumber = this.currentWeapon.getNextTexture()\r\n        }\r\n\r\n    }\r\n\r\n    private decreaseAmmo() {\r\n        if (this.currentWeapon.type != 'knife') {\r\n            if (UI.instance.ammo > 0) {\r\n                UI.instance.ammo--\r\n            }\r\n            if (UI.instance.ammo == 0) {\r\n                UI.instance.weapon = 'knife'\r\n            }\r\n        }\r\n    }\r\n\r\n    private shoot() {\r\n        if (!this.currentWeapon.isAutomatic) {\r\n            this.currentWeapon.willShoot = true\r\n        }\r\n    }\r\n\r\n    private setShooting(shooting: boolean) {\r\n        if (this.currentWeapon.isAutomatic) {\r\n            this.currentWeapon.shooting = shooting\r\n        }\r\n    }\r\n\r\n    draw(context: CanvasRenderingContext2D) {\r\n        // x 322 - pół szerokości\r\n        // y 312 - wysokość\r\n        const width = 64\r\n        const height = 64\r\n        const row = Math.floor(this.textureNumber / this.texturesCount.x)\r\n        const col = this.textureNumber % this.texturesCount.x\r\n        // console.log(this.textureNumber)\r\n        context.drawImage(\r\n            this.texture,\r\n            64 * col,\r\n            64 * row,\r\n            64,\r\n            64,\r\n            (317.5 - (width * 4.8 / 2)) * Config.uiScale,\r\n            (312 - (height * 4.8)) * Config.uiScale,\r\n            width * Config.uiScale * 4.8,\r\n            height * Config.uiScale * 4.8\r\n        )\r\n    }\r\n}","import { Vec3 } from '.'\r\nimport { m4 } from '.'\r\n\r\nexport class Transform {\r\n    position = Vec3.zero\r\n    rotation = Vec3.zero\r\n    scale = Vec3.one\r\n    originTranslation = Vec3.zero\r\n\r\n    reset() {\r\n        this.position = Vec3.zero\r\n        this.rotation = Vec3.zero\r\n        this.scale = Vec3.one\r\n    }\r\n\r\n    get matrix() {\r\n        let matrix = m4.identity\r\n\r\n        matrix = m4.scale(matrix, this.scale);\r\n\r\n        matrix = m4.xRotate(matrix, this.rotation.x);\r\n        matrix = m4.yRotate(matrix, this.rotation.y);\r\n        matrix = m4.zRotate(matrix, this.rotation.z);\r\n\r\n        const position = this.position.add(this.originTranslation)\r\n        matrix = m4.translate(matrix, position);\r\n\r\n        return matrix\r\n    }\r\n\r\n    clone() {\r\n        const transform = new Transform()\r\n        transform.position = this.position.clone()\r\n        transform.rotation = this.rotation.clone()\r\n        transform.scale = this.scale.clone()\r\n        return transform\r\n    }\r\n}","import { Vec3 } from \".\"\r\n\r\nexport class Vec2 {\r\n    x: number\r\n    y: number\r\n\r\n    static arrayToVec2Array(a: number[] | Float32Array) {\r\n        let array: Vec2[] = []\r\n        for (let i = 0; i < a.length; i += 2) {\r\n            array.push(new Vec2(\r\n                a[i],\r\n                a[i + 1],\r\n            ))\r\n        }\r\n        return array\r\n    }\r\n\r\n    static vec2ArrayToArray(a: Vec2[]) {\r\n        let array: number[] = []\r\n        for (let vec of a) {\r\n            array.push(vec.x, vec.y)\r\n        }\r\n        return array\r\n    }\r\n\r\n    constructor(x: number, y: number) {\r\n        this.set(x, y)\r\n    }\r\n\r\n    set(x: number, y: number) {\r\n        this.x = x\r\n        this.y = y\r\n    }\r\n\r\n    multiply(scalar: number) {\r\n        return new Vec2(this.x * scalar, this.y * scalar)\r\n    }\r\n\r\n    add(v: Vec2) {\r\n        return new Vec2(\r\n            this.x + v.x,\r\n            this.y + v.y\r\n        )\r\n    }\r\n\r\n    map(f: (value: number) => number) {\r\n        return new Vec2(\r\n            f(this.x),\r\n            f(this.y),\r\n        )\r\n    }\r\n\r\n    multiplyByVector(v: Vec2) {\r\n        return new Vec2(this.x * v.x, this.y * v.y)\r\n    }\r\n\r\n    substract(v: Vec2) {\r\n        return new Vec2(\r\n            this.x - v.x,\r\n            this.y - v.y,\r\n        )\r\n    }\r\n\r\n    get abs() {\r\n        return this.map(v => Math.abs(v))\r\n    }\r\n\r\n    equals(v: Vec2) {\r\n        return this.x == v.x && this.y == v.y\r\n    }\r\n\r\n    toVec3() {\r\n        return new Vec3(this.x, 0, this.y)\r\n    }\r\n}","import { Vec2 } from \".\"\r\n\r\nexport class Vec3 {\r\n    x: number\r\n    y: number\r\n    z: number\r\n\r\n    static get one() {\r\n        return new Vec3(1, 1, 1)\r\n    }\r\n\r\n    static get zero() {\r\n        return new Vec3(0, 0, 0)\r\n    }\r\n\r\n    static get forward() {\r\n        return new Vec3(0, 0, 1)\r\n    }\r\n\r\n    static get backward() {\r\n        return new Vec3(0, 0, -1)\r\n    }\r\n\r\n    static get right() {\r\n        return new Vec3(1, 0, 0)\r\n    }\r\n\r\n    static get left() {\r\n        return new Vec3(-1, 0, 0)\r\n    }\r\n\r\n    static get up() {\r\n        return new Vec3(0, 1, 0)\r\n    }\r\n\r\n    static get down() {\r\n        return new Vec3(0, -1, 0)\r\n    }\r\n\r\n    static arrayToVec3Array(a: number[] | Float32Array | Uint8Array) {\r\n        let array: Vec3[] = []\r\n        for (let i = 0; i < a.length; i += 3) {\r\n            array.push(new Vec3(\r\n                a[i],\r\n                a[i + 1],\r\n                a[i + 2]\r\n            ))\r\n        }\r\n        return array\r\n    }\r\n\r\n    static vec3ArrayToArray(a: Vec3[]) {\r\n        let array: number[] = []\r\n        for (let vec of a) {\r\n            array.push(vec.x, vec.y, vec.z)\r\n        }\r\n        return array\r\n    }\r\n\r\n    constructor(x: number, y: number, z: number) {\r\n        this.set(x, y, z)\r\n    }\r\n\r\n    set(x: number, y: number, z: number) {\r\n        this.x = x\r\n        this.y = y\r\n        this.z = z\r\n    }\r\n\r\n    get copy() {\r\n        return new Vec3(this.x, this.y, this.z)\r\n    }\r\n\r\n    get xInverted() {\r\n        return new Vec3(-this.x, this.y, this.z)\r\n    }\r\n\r\n    get yInverted() {\r\n        return new Vec3(this.x, -this.y, this.z)\r\n    }\r\n\r\n    get zInverted() {\r\n        return new Vec3(this.x, this.y, -this.z)\r\n    }\r\n\r\n    multiply(scalar: number) {\r\n        return new Vec3(this.x * scalar, this.y * scalar, this.z * scalar)\r\n    }\r\n\r\n    multiplyByVector(v: Vec3) {\r\n        return new Vec3(this.x * v.x, this.y * v.y, this.z * v.z)\r\n    }\r\n\r\n    equals(v: Vec3) {\r\n        return this.x == v.x && this.y == v.y && this.z == v.z\r\n    }\r\n\r\n    isGreater(v: Vec3) {\r\n        return this.x >= v.x && this.y >= v.y && this.z >= v.z && (this.x > v.x || this.y > v.y || this.z > v.z)\r\n    }\r\n\r\n    isLess(v: Vec3) {\r\n        return this.x <= v.x && this.y <= v.y && this.z <= v.z && (this.x < v.x || this.y < v.y || this.z < v.z)\r\n    }\r\n\r\n    cross(v: Vec3) {\r\n        return new Vec3(\r\n            this.y * v.z - this.z * v.y,\r\n            this.z * v.x - this.x * v.z,\r\n            this.x * v.y - this.y * v.x,\r\n        )\r\n    }\r\n\r\n    dot(v: Vec3) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z\r\n    }\r\n\r\n    add(v: Vec3) {\r\n        return new Vec3(\r\n            this.x + v.x,\r\n            this.y + v.y,\r\n            this.z + v.z\r\n        )\r\n    }\r\n\r\n    substract(v: Vec3) {\r\n        return new Vec3(\r\n            this.x - v.x,\r\n            this.y - v.y,\r\n            this.z - v.z\r\n        )\r\n    }\r\n\r\n    distanceTo(v: Vec3) {\r\n        return Math.sqrt(\r\n            (v.x - this.x) ** 2 +\r\n            (v.y - this.y) ** 2 +\r\n            (v.z - this.z) ** 2\r\n        )\r\n    }\r\n\r\n    horizontalDistanceTo(v: Vec3) {\r\n        return this.yZeroed.distanceTo(v.yZeroed)\r\n    }\r\n\r\n    to(v: Vec3) {\r\n        return new Vec3(\r\n            v.x - this.x,\r\n            v.y - this.y,\r\n            v.z - this.z,\r\n        )\r\n    }\r\n\r\n    get inverted() {\r\n        return this.multiply(-1)\r\n    }\r\n\r\n    get normalize() {\r\n        if (this.magnitude != 0) {\r\n            const scale = 1 / this.magnitude\r\n            return this.multiply(scale)\r\n        } else {\r\n            return Vec3.zero\r\n        }\r\n    }\r\n\r\n    get magnitude() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)\r\n    }\r\n\r\n    transformMat4(m: number[]) {\r\n        var w = m[3] * this.x + m[7] * this.y + m[11] * this.z + m[15]\r\n        w = w || 1.0\r\n        let out = Vec3.zero\r\n        out.x = (m[0] * this.x + m[4] * this.y + m[8] * this.z + m[12]) / w\r\n        out.y = (m[1] * this.x + m[5] * this.y + m[9] * this.z + m[13]) / w\r\n        out.z = (m[2] * this.x + m[6] * this.y + m[10] * this.z + m[14]) / w\r\n        return out\r\n    }\r\n\r\n    clone() {\r\n        return new Vec3(this.x, this.y, this.z)\r\n    }\r\n\r\n    static fromAngle(angle: number) {\r\n        angle = angle + 3 * Math.PI / 2\r\n        return new Vec3(Math.cos(angle), 0, Math.sin(angle))\r\n    }\r\n\r\n    map(f: (value: number) => number) {\r\n        return new Vec3(\r\n            f(this.x),\r\n            f(this.y),\r\n            f(this.z),\r\n        )\r\n    }\r\n\r\n    get yZeroed() {\r\n        return new Vec3(\r\n            this.x,\r\n            0,\r\n            this.z,\r\n        )\r\n    }\r\n\r\n    get abs() {\r\n        return this.map(v => Math.abs(v))\r\n    }\r\n\r\n    get minusOneOrZeroOrOne() {\r\n        return this.map(v => {\r\n            if (v > 0) return 1\r\n            if (v < 0) return -1\r\n            return 0\r\n        })\r\n    }\r\n\r\n    toVec2() {\r\n        return new Vec2(this.x, this.z)\r\n    }\r\n}","export {\r\n    radToDeg,\r\n    degToRad,\r\n    hexToRgb,\r\n} from './utils'\r\n\r\nexport { m4 } from './m4'\r\nexport { Vec2 } from './Vec2'\r\nexport { Vec3 } from './Vec3'\r\nexport { log } from './log'\r\nexport { Transform } from './Transform'","import { Vec3 } from '.'\r\n\r\nexport function log(name: string, value: any) {\r\n    let element = document.getElementById(name)\r\n    if (!element) {\r\n        const ui = document.getElementById('ui')\r\n\r\n        const container = document.createElement('div')\r\n        const label = document.createElement('div')\r\n        label.innerText = name + ':'\r\n        label.classList.add('label')\r\n        const value = document.createElement('div')\r\n        value.id = name\r\n        value.classList.add('value')\r\n\r\n        container.appendChild(label)\r\n        container.appendChild(value)\r\n        ui.appendChild(container)\r\n\r\n        element = value\r\n    }\r\n\r\n    if (typeof value == 'undefined') {\r\n        value = 'undefined'\r\n    } else if (value instanceof Vec3) {\r\n        value = `x: ${value.x.toFixed(2)} y: ${value.y.toFixed(2)} z: ${value.z.toFixed(2)}`\r\n        element.parentElement.style.minWidth = '200px'\r\n    } else if (typeof value == 'number') {\r\n        value = value.toFixed(2).toString()\r\n    } else if (typeof value != 'string') {\r\n        value = JSON.stringify(value)\r\n    }\r\n\r\n    if (element.innerText != value) {\r\n        element.innerText = value\r\n    }\r\n}","import { Vec3 } from '.'\r\n\r\nconst m4 = {\r\n    translation: (v: Vec3) => {\r\n        return [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            v.x, v.y, v.z, 1,\r\n        ]\r\n    },\r\n\r\n    get identity() {\r\n        return [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1,\r\n        ]\r\n    },\r\n\r\n    rotate: (mTarget: number[], v: Vec3) => {\r\n        let m = m4.multiply(mTarget, m4.xRotation(v.x))\r\n        m = m4.multiply(m, m4.yRotation(v.y))\r\n        m = m4.multiply(m, m4.zRotation(v.z))\r\n        return m\r\n    },\r\n\r\n    xRotation: (angleInRadians: number) => {\r\n        const c = Math.cos(angleInRadians)\r\n        const s = Math.sin(angleInRadians)\r\n\r\n        return [\r\n            1, 0, 0, 0,\r\n            0, c, s, 0,\r\n            0, -s, c, 0,\r\n            0, 0, 0, 1,\r\n        ]\r\n    },\r\n\r\n    yRotation: (angleInRadians: number) => {\r\n        const c = Math.cos(angleInRadians)\r\n        const s = Math.sin(angleInRadians)\r\n\r\n        return [\r\n            c, 0, -s, 0,\r\n            0, 1, 0, 0,\r\n            s, 0, c, 0,\r\n            0, 0, 0, 1,\r\n        ]\r\n    },\r\n\r\n    zRotation: (angleInRadians: number) => {\r\n        const c = Math.cos(angleInRadians)\r\n        const s = Math.sin(angleInRadians)\r\n\r\n        return [\r\n            c, s, 0, 0,\r\n            -s, c, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1,\r\n        ]\r\n    },\r\n\r\n    scaling: (v: Vec3) => {\r\n        return [\r\n            v.x, 0, 0, 0,\r\n            0, v.y, 0, 0,\r\n            0, 0, v.z, 0,\r\n            0, 0, 0, 1,\r\n        ]\r\n    },\r\n\r\n    translate: (m: number[], v: Vec3) => {\r\n        return m4.multiply(m, m4.translation(v))\r\n    },\r\n\r\n    xRotate: (m: number[], angleInRadians: number) => {\r\n        return m4.multiply(m, m4.xRotation(angleInRadians))\r\n    },\r\n\r\n    yRotate: (m: number[], angleInRadians: number) => {\r\n        return m4.multiply(m, m4.yRotation(angleInRadians))\r\n    },\r\n\r\n    zRotate: (m: number[], angleInRadians: number) => {\r\n        return m4.multiply(m, m4.zRotation(angleInRadians))\r\n    },\r\n\r\n    scale: (m: number[], v: Vec3) => {\r\n        return m4.multiply(m, m4.scaling(v))\r\n    },\r\n\r\n    perspective: (fieldOfViewInRadians: number, aspect: number, near: number, far: number) => {\r\n        var f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewInRadians);\r\n        var rangeInv = 1.0 / (near - far);\r\n\r\n        return [\r\n            f / aspect, 0, 0, 0,\r\n            0, f, 0, 0,\r\n            0, 0, (near + far) * rangeInv, -1,\r\n            0, 0, near * far * rangeInv * 2, 0\r\n        ];\r\n    },\r\n\r\n    makeZToWMatrix(fudgeFactor: number) {\r\n        return [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, fudgeFactor,\r\n            0, 0, 0, 1,\r\n        ];\r\n    },\r\n\r\n    multiply: (a: number[], b: number[]) => {\r\n        const a11 = a[0 * 4 + 0]\r\n        const a12 = a[0 * 4 + 1]\r\n        const a13 = a[0 * 4 + 2]\r\n        const a14 = a[0 * 4 + 3]\r\n        const a21 = a[1 * 4 + 0]\r\n        const a22 = a[1 * 4 + 1]\r\n        const a23 = a[1 * 4 + 2]\r\n        const a24 = a[1 * 4 + 3]\r\n        const a31 = a[2 * 4 + 0]\r\n        const a32 = a[2 * 4 + 1]\r\n        const a33 = a[2 * 4 + 2]\r\n        const a34 = a[2 * 4 + 3]\r\n        const a41 = a[3 * 4 + 0]\r\n        const a42 = a[3 * 4 + 1]\r\n        const a43 = a[3 * 4 + 2]\r\n        const a44 = a[3 * 4 + 3]\r\n        const b11 = b[0 * 4 + 0]\r\n        const b12 = b[0 * 4 + 1]\r\n        const b13 = b[0 * 4 + 2]\r\n        const b14 = b[0 * 4 + 3]\r\n        const b21 = b[1 * 4 + 0]\r\n        const b22 = b[1 * 4 + 1]\r\n        const b23 = b[1 * 4 + 2]\r\n        const b24 = b[1 * 4 + 3]\r\n        const b31 = b[2 * 4 + 0]\r\n        const b32 = b[2 * 4 + 1]\r\n        const b33 = b[2 * 4 + 2]\r\n        const b34 = b[2 * 4 + 3]\r\n        const b41 = b[3 * 4 + 0]\r\n        const b42 = b[3 * 4 + 1]\r\n        const b43 = b[3 * 4 + 2]\r\n        const b44 = b[3 * 4 + 3]\r\n\r\n        return [\r\n            a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41,\r\n            a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42,\r\n            a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43,\r\n            a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44,\r\n            a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41,\r\n            a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42,\r\n            a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43,\r\n            a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44,\r\n            a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41,\r\n            a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42,\r\n            a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43,\r\n            a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44,\r\n            a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41,\r\n            a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42,\r\n            a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43,\r\n            a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44,\r\n        ]\r\n    },\r\n\r\n    multiplyScalar(m: number[], scalar: number) {\r\n        return m.map(el => el * scalar)\r\n    },\r\n\r\n    det: (m: number[]) => {\r\n        const m11 = m[0 * 4 + 0]\r\n        const m12 = m[0 * 4 + 1]\r\n        const m13 = m[0 * 4 + 2]\r\n        const m14 = m[0 * 4 + 3]\r\n        const m21 = m[1 * 4 + 0]\r\n        const m22 = m[1 * 4 + 1]\r\n        const m23 = m[1 * 4 + 2]\r\n        const m24 = m[1 * 4 + 3]\r\n        const m31 = m[2 * 4 + 0]\r\n        const m32 = m[2 * 4 + 1]\r\n        const m33 = m[2 * 4 + 2]\r\n        const m34 = m[2 * 4 + 3]\r\n        const m41 = m[3 * 4 + 0]\r\n        const m42 = m[3 * 4 + 1]\r\n        const m43 = m[3 * 4 + 2]\r\n        const m44 = m[3 * 4 + 3]\r\n\r\n        return (\r\n            m11 * m22 * m33 * m44 + m11 * m23 * m34 * m42 + m11 * m24 * m32 * m43 +\r\n            +m12 * m21 * m34 * m43 + m12 * m23 * m31 * m44 + m12 * m24 * m33 * m41 +\r\n            +m13 * m21 * m32 * m44 + m13 * m22 * m34 * m41 + m13 * m24 * m31 * m42 +\r\n            +m14 * m21 * m33 * m42 + m14 * m22 * m31 * m43 + m14 * m23 * m32 * m41 +\r\n            -m11 * m22 * m34 * m43 - m11 * m23 * m32 * m44 - m11 * m24 * m33 * m42 +\r\n            -m12 * m21 * m33 * m44 - m12 * m23 * m34 * m41 - m12 * m24 * m31 * m43 +\r\n            -m13 * m21 * m34 * m42 - m13 * m22 * m31 * m44 - m13 * m24 * m32 * m41 +\r\n            -m14 * m21 * m32 * m43 - m14 * m22 * m33 * m41 - m14 * m23 * m31 * m42\r\n        )\r\n    },\r\n\r\n    inverse(m: number[]) {\r\n        let dst = new Array(16);\r\n        var m00 = m[0 * 4 + 0];\r\n        var m01 = m[0 * 4 + 1];\r\n        var m02 = m[0 * 4 + 2];\r\n        var m03 = m[0 * 4 + 3];\r\n        var m10 = m[1 * 4 + 0];\r\n        var m11 = m[1 * 4 + 1];\r\n        var m12 = m[1 * 4 + 2];\r\n        var m13 = m[1 * 4 + 3];\r\n        var m20 = m[2 * 4 + 0];\r\n        var m21 = m[2 * 4 + 1];\r\n        var m22 = m[2 * 4 + 2];\r\n        var m23 = m[2 * 4 + 3];\r\n        var m30 = m[3 * 4 + 0];\r\n        var m31 = m[3 * 4 + 1];\r\n        var m32 = m[3 * 4 + 2];\r\n        var m33 = m[3 * 4 + 3];\r\n\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var tmp_12 = m20 * m31;\r\n        var tmp_13 = m30 * m21;\r\n        var tmp_14 = m10 * m31;\r\n        var tmp_15 = m30 * m11;\r\n        var tmp_16 = m10 * m21;\r\n        var tmp_17 = m20 * m11;\r\n        var tmp_18 = m00 * m31;\r\n        var tmp_19 = m30 * m01;\r\n        var tmp_20 = m00 * m21;\r\n        var tmp_21 = m20 * m01;\r\n        var tmp_22 = m00 * m11;\r\n        var tmp_23 = m10 * m01;\r\n\r\n        var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) - (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) - (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) - (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) - (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n\r\n        var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n\r\n        dst[0] = d * t0;\r\n        dst[1] = d * t1;\r\n        dst[2] = d * t2;\r\n        dst[3] = d * t3;\r\n        dst[4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) - (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\r\n        dst[5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) - (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\r\n        dst[6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) - (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\r\n        dst[7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) - (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\r\n        dst[8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) - (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\r\n        dst[9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) - (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\r\n        dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) - (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\r\n        dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) - (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\r\n        dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) - (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\r\n        dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) - (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\r\n        dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) - (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\r\n        dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) - (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\r\n\r\n        return dst;\r\n    },\r\n\r\n    lookAt: function (source: Vec3, target: Vec3) {\r\n        var zAxis = source.substract(target).normalize;\r\n        var xAxis = Vec3.up.cross(zAxis).normalize;\r\n        var yAxis = zAxis.cross(xAxis).normalize;\r\n\r\n        return [\r\n            xAxis.x, xAxis.y, xAxis.z, 0,\r\n            yAxis.x, yAxis.y, yAxis.z, 0,\r\n            zAxis.x, zAxis.y, zAxis.z, 0,\r\n            source.x, source.y, source.z, 1,\r\n        ];\r\n    },\r\n\r\n    getPositionVector: function (m: number[]) {\r\n        return new Vec3(m[12], m[13], m[14]).map(v => v < 0.0000001 ? 0 : v)\r\n    },\r\n\r\n    getScaleVector: function (m: number[]) {\r\n        return new Vec3(\r\n            new Vec3(m[0], m[4], m[8]).magnitude,\r\n            new Vec3(m[1], m[5], m[9]).magnitude,\r\n            new Vec3(m[2], m[6], m[10]).magnitude,\r\n        )\r\n    },\r\n\r\n    getRotationMatrix: function (m: number[]) {\r\n        const s = m4.getScaleVector(m)\r\n        return [\r\n            m[0] / s.x, m[1] / s.y, m[2] / s.z, 0,\r\n            m[4] / s.x, m[5] / s.y, m[6] / s.z, 0,\r\n            m[8] / s.x, m[9] / s.y, m[10] / s.z, 0,\r\n            0, 0, 0, 1\r\n        ]\r\n    },\r\n\r\n}\r\n\r\n// export default m4\r\nexport { m4 }","import { Vec3 } from \".\";\r\n\r\nexport function radToDeg(r: number) {\r\n    return r * 180 / Math.PI;\r\n}\r\n\r\nexport function degToRad(d: number) {\r\n    return d * Math.PI / 180;\r\n}\r\n\r\nexport function hexToRgb(hex: string) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? new Vec3(\r\n        parseInt(result[1], 16),\r\n        parseInt(result[2], 16),\r\n        parseInt(result[3], 16)\r\n    ) : null;\r\n}","export default \"precision mediump float;\\r\\n\\r\\n// Passed in from the vertex shader.\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n   gl_FragColor = v_color;\\r\\n}\"","export default \"attribute vec4 a_position;\\r\\nattribute vec4 a_color;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * a_position;    \\r\\n  // Pass the color to the fragment shader.\\r\\n  v_color = a_color;\\r\\n}\"","export default \"precision mediump float;\\r\\n\\r\\n// Passed in from the vertex shader.\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\n// The texture.\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nvoid main() {\\r\\n    vec4 texColor = texture2D(u_texture, v_texcoord);\\r\\n    if(texColor.a < 0.1)\\r\\n        discard;\\r\\n    gl_FragColor = texColor;\\r\\n    // gl_FragColor = texture2D(u_texture, v_texcoord);\\r\\n}\"","export default \"attribute vec4 a_position;\\r\\nattribute vec2 a_texcoord;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * a_position;    \\r\\n  \\r\\n  // Pass the texcoord to the fragment shader.\\r\\n  v_texcoord = a_texcoord;\\r\\n}\"","var map = {\n\t\"./1.json\": [\n\t\t\"./src/game/levels/1.json\",\n\t\t\"src_game_levels_1_json\"\n\t],\n\t\"./test 1.json\": [\n\t\t\"./src/game/levels/test 1.json\",\n\t\t\"src_game_levels_test_1_json\"\n\t],\n\t\"./test 2.json\": [\n\t\t\"./src/game/levels/test 2.json\",\n\t\t\"src_game_levels_test_2_json\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"./src/game/levels lazy recursive ^\\\\.\\\\/.*\\\\.json$\";\nmodule.exports = webpackAsyncContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"wolfenstein:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"game\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwolfenstein\"] = self[\"webpackChunkwolfenstein\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import \"./style.css\";\r\nimport Game from \"./components/Game\";\r\nimport favicon from \"./favicon.ico\"\r\n\r\nwindow.onload = () => {\r\n    new Game()\r\n}"],"names":[],"sourceRoot":""}